<!DOCTYPE html>
<html lang="en"><head><meta charset="utf-8"/><link href="../../../bootstrap-combined.min.css" rel="stylesheet" /><script type="text/javascript" src="../../../jquery-1.9.1.min.js"></script><script type="text/javascript" src="../../../bootstrap.min.js"></script><link href="../../../styles.css" rel="stylesheet" /><link rel="icon" href="../../../favicon.ico" type="image/x-icon"></link><script type="text/javascript" src="../../../nav.js"></script><script type="text/javascript" src="../../../index.js"></script><script type="text/javascript">var dox = {rootPath: "../../../",platforms: ["documentation"]};</script><title>FrameBuffer - Angle3D</title></head><body><div class="navbar navbar-inverse navbar-fixed-top"><div class="navbar-inner"><form class="navbar-search pull-left" id="searchForm"><input id="search" type="text" class="search-query" placeholder="Filter" autocomplete="off"/></form><ul class="nav"><li id="select-platform" class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown">Platform<b class="caret"></b></a><ul class="dropdown-menu"><li data="all"><a href="#">All Platforms</a></li><li data="documentation"><a href="#">documentation</a></li></ul></li></ul></div></div><div id="container"><div id="nav"></div><div id="content"><div class="header"><h1><code><span class="directive">class </span><span class="type">org.angle3d.texture.FrameBuffer</span></code></h1></div><div class="body"><p class="availability">Available on all platforms</p><div class="doc"><p>
<code>FrameBuffer</code>s are rendering surfaces allowing
off-screen rendering and render-to-texture functionality.
Instead of the scene rendering to the screen, it is rendered into the
FrameBuffer, the result can be either a texture or a buffer.
<p>
A <code>FrameBuffer</code> supports two methods of rendering,
using a {@link Texture} or using a buffer.
When using a texture, the result of the rendering will be rendered
onto the texture, after which the texture can be placed on an object
and rendered as if the texture was uploaded from disk.
When using a buffer, the result is rendered onto
a buffer located on the GPU, the data of this buffer is not accessible
to the user. buffers are useful if one
wishes to retrieve only the color content of the scene, but still desires
depth testing (which requires a depth buffer).
Buffers can be copied to other framebuffers
including the main screen, by using
{@link Renderer#copyFrameBuffer(org.angle3d.texture.FrameBuffer, org.angle3d.texture.FrameBuffer) }.
The content of a {@link RenderBuffer} can be retrieved by using
{@link Renderer#readFrameBuffer(org.angle3d.texture.FrameBuffer, java.nio.ByteBuffer) }.
<p>
<code>FrameBuffer</code>s have several attachment points, there are
several <em>color</em> attachment points and a single <em>depth</em>
attachment point.
The color attachment points support image formats such as
{@link Format#RGBA8}, allowing rendering the color content of the scene.
The depth attachment point requires a depth image format.
<p>@see Renderer#setFrameBuffer(org.angle3d.texture.FrameBuffer)</p></div><h2>Class Fields</h2><div class="platform platform-documentation"><a name="SLOT_DEPTH"></a><h3><p><code><span class="keyword">static </span><span class="keyword">var</span> <a href="#SLOT_DEPTH"><span class="identifier">SLOT_DEPTH</span></a>:<span class="type">Int</span></code></p></h3><div class="doc"><p></p></div></div><div class="platform platform-documentation"><a name="SLOT_DEPTH_STENCIL"></a><h3><p><code><span class="keyword">static </span><span class="keyword">var</span> <a href="#SLOT_DEPTH_STENCIL"><span class="identifier">SLOT_DEPTH_STENCIL</span></a>:<span class="type">Int</span></code></p></h3><div class="doc"><p></p></div></div><div class="platform platform-documentation"><a name="SLOT_UNDEF"></a><h3><p><code><span class="keyword">static </span><span class="keyword">var</span> <a href="#SLOT_UNDEF"><span class="identifier">SLOT_UNDEF</span></a>:<span class="type">Int</span></code></p></h3><div class="doc"><p></p></div></div><h2>Instance Fields</h2><div class="platform platform-documentation"><a name="new"></a><h3><p><code><span class="keyword">function</span> <a href="#new"><span class="identifier">new</span></a>(width:<span class="type">Int</span>, height:<span class="type">Int</span>, samples:<span class="type">Int</span>):<span class="type">Void</span></code></p></h3><div class="doc"><p>
Creates a new FrameBuffer with the given width, height, and number
of samples. If any textures are attached to this FrameBuffer, then
they must have the same number of samples as given in this constructor.
<p>
Note that if the {@link Renderer} does not expose the 
{@link Caps#NonPowerOfTwoTextures}, then an exception will be thrown
if the width and height arguments are not power of two.<table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>width</td><td><p>The width to use</p></td></tr><tr><td>height</td><td><p>The height to use</p></td></tr><tr><td>samples</td><td><p>The number of samples to use for a multisampled
framebuffer, or 1 if the framebuffer should be singlesampled.</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="addColorTexture"></a><h3><p><code><span class="keyword">function</span> <a href="#addColorTexture"><span class="identifier">addColorTexture</span></a>(tex:<a class="type" href="../../../org/angle3d/texture/Texture2D.html">Texture2D</a>):<span class="type">Void</span></code></p></h3><div class="doc"><p>Add a color texture to use for this framebuffer.
If MRT is enabled, then each subsequently added texture can be
rendered to through a shader that writes to the array <code>gl_FragData</code>.
If MRT is not enabled, then the index set with {@link FrameBuffer#setTargetIndex(int) }
is rendered to by the shader.</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>tex</td><td><p>The texture to add.</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="addCubeColorTexture"></a><h3><p><code><span class="keyword">function</span> <a href="#addCubeColorTexture"><span class="identifier">addCubeColorTexture</span></a>(tex:<a class="type" href="../../../org/angle3d/texture/CubeTextureMap.html">CubeTextureMap</a>, face:<span class="type">Int</span>):<span class="type">Void</span></code></p></h3><div class="doc"><p>Add a color texture to use for this framebuffer.
If MRT is enabled, then each subsequently added texture can be
rendered to through a shader that writes to the array <code>gl_FragData</code>.
If MRT is not enabled, then the index set with {@link FrameBuffer#setTargetIndex(int) }
is rendered to by the shader.</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>tex</td><td><p>The cube-map texture to add.</p></td></tr><tr><td>face</td><td><p>The face of the cube-map to render to.</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="clearColorTargets"></a><h3><p><code><span class="keyword">function</span> <a href="#clearColorTargets"><span class="identifier">clearColorTargets</span></a>():<span class="type">Void</span></code></p></h3><div class="doc"><p>Clears all color targets that were set or added previously.</p></div></div><div class="platform platform-documentation"><a name="dispose"></a><h3><p><code><span class="keyword">function</span> <a href="#dispose"><span class="identifier">dispose</span></a>():<span class="type">Void</span></code></p></h3><div class="doc"><p></p></div></div><div class="platform platform-documentation"><a name="getColorBuffer"></a><h3><p><code><span class="keyword">function</span> <a href="#getColorBuffer"><span class="identifier">getColorBuffer</span></a>(index:<span class="type">Int</span>):<a class="type" href="../../../org/angle3d/texture/RenderBuffer.html">RenderBuffer</a></code></p></h3><div class="doc"><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>index</td><td></td></tr><tr><td>returns</td><td><p>The color buffer at the given index.</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="getDepthBuffer"></a><h3><p><code><span class="keyword">function</span> <a href="#getDepthBuffer"><span class="identifier">getDepthBuffer</span></a>():<a class="type" href="../../../org/angle3d/texture/RenderBuffer.html">RenderBuffer</a></code></p></h3><div class="doc"><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>returns</td><td><p>The depth buffer attached to this FrameBuffer, or null
if no depth buffer is attached</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="getFirstColorBuffer"></a><h3><p><code><span class="keyword">function</span> <a href="#getFirstColorBuffer"><span class="identifier">getFirstColorBuffer</span></a>():<a class="type" href="../../../org/angle3d/texture/RenderBuffer.html">RenderBuffer</a></code></p></h3><div class="doc"><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>returns</td><td><p>The first color buffer attached to this FrameBuffer, or null
if no color buffers are attached.</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="getHeight"></a><h3><p><code><span class="keyword">function</span> <a href="#getHeight"><span class="identifier">getHeight</span></a>():<span class="type">Int</span></code></p></h3><div class="doc"><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>returns</td><td><p>The height in pixels of this framebuffer.</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="getNumColorBuffers"></a><h3><p><code><span class="keyword">function</span> <a href="#getNumColorBuffers"><span class="identifier">getNumColorBuffers</span></a>():<span class="type">Int</span></code></p></h3><div class="doc"><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>returns</td><td><p>The number of color buffers attached to this texture.</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="getSamples"></a><h3><p><code><span class="keyword">function</span> <a href="#getSamples"><span class="identifier">getSamples</span></a>():<span class="type">Int</span></code></p></h3><div class="doc"><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>returns</td><td><p>The number of samples when using a multisample framebuffer, or
1 if this is a singlesampled framebuffer.</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="getTargetIndex"></a><h3><p><code><span class="keyword">function</span> <a href="#getTargetIndex"><span class="identifier">getTargetIndex</span></a>():<span class="type">Int</span></code></p></h3><div class="doc"><p>@see FrameBuffer#setTargetIndex(int)</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>returns</td><td><p>The color target to which the scene should be rendered.</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="getWidth"></a><h3><p><code><span class="keyword">function</span> <a href="#getWidth"><span class="identifier">getWidth</span></a>():<span class="type">Int</span></code></p></h3><div class="doc"><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>returns</td><td><p>The width in pixels of this framebuffer.</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="isMultiTarget"></a><h3><p><code><span class="keyword">function</span> <a href="#isMultiTarget"><span class="identifier">isMultiTarget</span></a>():<span class="type">Bool</span></code></p></h3><div class="doc"><p>@see FrameBuffer#setMultiTarget(boolean)</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>returns</td><td><p>True if MRT (multiple rendering targets) is enabled.</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="resetObject"></a><h3><p><code><span class="keyword">function</span> <a href="#resetObject"><span class="identifier">resetObject</span></a>():<span class="type">Void</span></code></p></h3><div class="doc"><p></p></div></div><div class="platform platform-documentation"><a name="setColorBuffer"></a><h3><p><code><span class="keyword">function</span> <a href="#setColorBuffer"><span class="identifier">setColorBuffer</span></a>():<span class="type">Void</span></code></p></h3><div class="doc"><p>Enables the use of a color buffer for this <code>FrameBuffer</code>.</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>format</td><td><p>The format to use for the color buffer.</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="setColorTexture"></a><h3><p><code><span class="keyword">function</span> <a href="#setColorTexture"><span class="identifier">setColorTexture</span></a>(tex:<a class="type" href="../../../org/angle3d/texture/Texture2D.html">Texture2D</a>):<span class="type">Void</span></code></p></h3><div class="doc"><p>Set the color texture to use for this framebuffer.
This automatically clears all existing textures added previously
with {@link FrameBuffer#addColorTexture } and adds this texture as the
only target.</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>tex</td><td><p>The color texture to set.</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="setCubeColorTexture"></a><h3><p><code><span class="keyword">function</span> <a href="#setCubeColorTexture"><span class="identifier">setCubeColorTexture</span></a>(tex:<a class="type" href="../../../org/angle3d/texture/CubeTextureMap.html">CubeTextureMap</a>, face:<span class="type">Int</span>):<span class="type">Void</span></code></p></h3><div class="doc"><p>Set the color texture to use for this framebuffer.
This automatically clears all existing textures added previously
with {@link FrameBuffer#addColorTexture } and adds this texture as the
only target.</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>tex</td><td><p>The cube-map texture to set.</p></td></tr><tr><td>face</td><td><p>The face of the cube-map to render to.</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="setDepthBuffer"></a><h3><p><code><span class="keyword">function</span> <a href="#setDepthBuffer"><span class="identifier">setDepthBuffer</span></a>():<span class="type">Void</span></code></p></h3><div class="doc"><p>Enables the use of a depth buffer for this <code>FrameBuffer</code>.</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>format</td><td><p>The format to use for the depth buffer.</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="setDepthTexture"></a><h3><p><code><span class="keyword">function</span> <a href="#setDepthTexture"><span class="identifier">setDepthTexture</span></a>(tex:<a class="type" href="../../../org/angle3d/texture/Texture2D.html">Texture2D</a>):<span class="type">Void</span></code></p></h3><div class="doc"><p>Set the depth texture to use for this framebuffer.</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>tex</td><td><p>The color texture to set.</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="setMultiTarget"></a><h3><p><code><span class="keyword">function</span> <a href="#setMultiTarget"><span class="identifier">setMultiTarget</span></a>(enabled:<span class="type">Bool</span>):<span class="type">Void</span></code></p></h3><div class="doc"><p>If enabled, any shaders rendering into this <code>FrameBuffer</code>
will be able to write several results into the renderbuffers
by using the <code>gl_FragData</code> array. Every slot in that
array maps into a color buffer attached to this framebuffer.</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>enabled</td><td><p>True to enable MRT (multiple rendering targets).</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="setTargetIndex"></a><h3><p><code><span class="keyword">function</span> <a href="#setTargetIndex"><span class="identifier">setTargetIndex</span></a>(index:<span class="type">Int</span>):<span class="type">Void</span></code></p></h3><div class="doc"><p>If MRT is not enabled ({@link FrameBuffer#setMultiTarget(boolean) } is false)
then this specifies the color target to which the scene should be rendered.
<p>
By default the value is 0.</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>index</td><td><p>The color attachment index.</p></td></tr></tbody></table></div></div></div></div></div></body></html>