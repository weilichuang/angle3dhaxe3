<!DOCTYPE html>
<html lang="en"><head><meta charset="utf-8"/><link href="../../../bootstrap-combined.min.css" rel="stylesheet" /><script type="text/javascript" src="../../../jquery-1.9.1.min.js"></script><script type="text/javascript" src="../../../bootstrap.min.js"></script><link href="../../../styles.css" rel="stylesheet" /><link rel="icon" href="../../../favicon.ico" type="image/x-icon"></link><script type="text/javascript" src="../../../nav.js"></script><script type="text/javascript" src="../../../index.js"></script><script type="text/javascript">var dox = {rootPath: "../../../",platforms: ["documentation"]};</script><title>InputManager - Angle3D</title></head><body><div class="navbar navbar-inverse navbar-fixed-top"><div class="navbar-inner"><form class="navbar-search pull-left" id="searchForm"><input id="search" type="text" class="search-query" placeholder="Filter" autocomplete="off"/></form><ul class="nav"><li id="select-platform" class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown">Platform<b class="caret"></b></a><ul class="dropdown-menu"><li data="all"><a href="#">All Platforms</a></li><li data="documentation"><a href="#">documentation</a></li></ul></li></ul></div></div><div id="container"><div id="nav"></div><div id="content"><div class="header"><h1><code><span class="directive">class </span><span class="type">org.angle3d.input.InputManager</span><span class="keyword"> implements</span> <a class="type" href="../../../org/angle3d/input/RawInputListener.html">RawInputListener</a></code></h1></div><div class="body"><p class="availability">Available on all platforms</p><div class="doc"><p>The InputManager is responsible for converting input events
received from the Key, Mouse and Joy Input implementations into an
abstract, input device independent representation that user code can use.
<p>
By default an InputManager is included with every Application instance for use
in user code to query input, unless the Application is created as headless
or with input explicitly disabled.
<p>
The input manager has two concepts, a {Trigger} and a mapping.
A trigger represents a specific input trigger, such as a key button,
or a mouse axis. A mapping represents a link onto one or several triggers,
when the appropriate trigger is activated (e.g. a key is pressed), the
mapping will be invoked. Any listeners registered to receive an event
from the mapping will have an event raised.
<p>
There are two types of events that {InputListener input listeners}
can receive, one is {ActionListener#onAction(String, Bool, float) action}
events and another is {AnalogListener#onAnalog(String, float, float) analog}
events.
<p>
onAction events are raised when the specific input
activates or deactivates. For a digital input such as key press, the onAction()
event will be raised with the isPressed argument equal to true,
when the key is released, onAction is called again but this time
with the isPressed argument set to false.
For analog inputs, the onAction method will be called any time
the input is non-zero, however an exception to this is for joystick axis inputs,
which are only called when the input is above the {InputManager#setAxisDeadZone(float) dead zone}.
<p>
onAnalog events are raised every frame while the input is activated.
For digital inputs, every frame that the input is active will cause the
onAnalog method to be called, the argument value
argument will equal to the frame's time per frame (TPF) value but only
for digital inputs. For analog inputs however, the value argument
will equal the actual analog value.</p></div><h2>Instance Fields</h2><div class="platform platform-documentation"><a name="cursorPosition"></a><h3><p><code><span class="keyword">var</span> <a href="#cursorPosition"><span class="identifier">cursorPosition</span></a>:<a class="type" href="../../../org/angle3d/math/Vector2f.html">Vector2f</a></code></p></h3><div class="doc"><p></p></div></div><div class="platform platform-documentation"><a name="new"></a><h3><p><code><span class="keyword">function</span> <a href="#new"><span class="identifier">new</span></a>():<span class="type">Void</span></code></p></h3><div class="doc"><p></p></div></div><div class="platform platform-documentation"><a name="addListener"></a><h3><p><code><span class="keyword">function</span> <a href="#addListener"><span class="identifier">addListener</span></a>(listener:<a class="type" href="../../../org/angle3d/input/controls/InputListener.html">InputListener</a>, mappingNames:<span class="type">Vector</span>&lt;<span class="type">String</span>&gt;):<span class="type">Void</span></code></p></h3><div class="doc"><p>Adds a new listener to receive events on the given mappings.</p><p>The given InputListener will be registered to receive events
on the specified mapping names. When a mapping raises an event, the
listener will have its appropriate method invoked, either
{ActionListener#onAction(String, Bool, float) }
or {AnalogListener#onAnalog(String, float, float) }
depending on which interface the listener implements.
If the listener implements both interfaces, then it will receive the
appropriate event for each method.
<p>@see InputManager#removeListener(org.angle3d.input.controls.InputListener)</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>listener</td><td><p>The listener to register to receive input events.</p></td></tr><tr><td>mappingNames</td><td><p>The mapping names which the listener will receive
events from.</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="addMapping"></a><h3><p><code><span class="keyword">function</span> <a href="#addMapping"><span class="identifier">addMapping</span></a>(mappingName:<span class="type">String</span>, triggers:<span class="type">Array</span>&lt;<a class="type" href="../../../org/angle3d/input/controls/Trigger.html">Trigger</a>&gt;):<span class="type">Void</span></code></p></h3><div class="doc"><p>Create a new mapping to the given triggers.</p><p>
The given mapping will be assigned to the given triggers, when
any of the triggers given raise an event, the listeners
registered to the mappings will receive appropriate events.
<p>@see InputManager#deleteMapping(String)</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>mappingName</td><td><p>The mapping name to assign.</p></td></tr><tr><td>triggers</td><td><p>The triggers to which the mapping is to be registered.</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="addRawInputListener"></a><h3><p><code><span class="keyword">function</span> <a href="#addRawInputListener"><span class="identifier">addRawInputListener</span></a>(listener:<a class="type" href="../../../org/angle3d/input/RawInputListener.html">RawInputListener</a>):<span class="type">Void</span></code></p></h3><div class="doc"><p>Adds a {RawInputListener} to receive raw input events.</p><p>
Any raw input listeners registered to this InputManager
will receive raw input events first, before they get_handled
by the InputManager itself. The listeners are
each processed in the order they were added, e.g. FIFO.
<p>
If a raw input listener has handled the event and does not wish
other listeners down the list to process the event, it may set the
{InputEvent#setConsumed() consumed flag} to indicate the
event was consumed and shouldn't be processed any further.
The listener may do this either at each of the event callbacks
or at the {RawInputListener#endInput() } method.
<p>@see RawInputListener</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>listener</td><td><p>A listener to receive raw input events.</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="addTrigger"></a><h3><p><code><span class="keyword">function</span> <a href="#addTrigger"><span class="identifier">addTrigger</span></a>(mappingName:<span class="type">String</span>, trigger:<a class="type" href="../../../org/angle3d/input/controls/Trigger.html">Trigger</a>):<span class="type">Void</span></code></p></h3><div class="doc"><p></p></div></div><div class="platform platform-documentation"><a name="afterInput"></a><h3><p><code><span class="keyword">function</span> <a href="#afterInput"><span class="identifier">afterInput</span></a>():<span class="type">Void</span></code></p></h3><div class="doc"><p>Called after a batch of input was sent to this
RawInputListener.</p>
<p>The listener should set the {InputEvent#setConsumed() consumed flag}
on any events that have been consumed either at this call or previous calls.</p></div></div><div class="platform platform-documentation"><a name="beforeInput"></a><h3><p><code><span class="keyword">function</span> <a href="#beforeInput"><span class="identifier">beforeInput</span></a>():<span class="type">Void</span></code></p></h3><div class="doc"><p>Called before a batch of input will be sent to this
RawInputListener.</p></div></div><div class="platform platform-documentation"><a name="clearMappings"></a><h3><p><code><span class="keyword">function</span> <a href="#clearMappings"><span class="identifier">clearMappings</span></a>():<span class="type">Void</span></code></p></h3><div class="doc"><p>Clears all the input mappings from this InputManager.
Consequently, also clears all of the
InputListeners as well.</p></div></div><div class="platform platform-documentation"><a name="clearRawInputListeners"></a><h3><p><code><span class="keyword">function</span> <a href="#clearRawInputListeners"><span class="identifier">clearRawInputListeners</span></a>():<span class="type">Void</span></code></p></h3><div class="doc"><p>Clears all {RawInputListener}s.</p>
<p>@see InputManager#addRawInputListener(org.angle3d.input.RawInputListener)</p></div></div><div class="platform platform-documentation"><a name="deleteMapping"></a><h3><p><code><span class="keyword">function</span> <a href="#deleteMapping"><span class="identifier">deleteMapping</span></a>(mappingName:<span class="type">String</span>):<span class="type">Void</span></code></p></h3><div class="doc"><p>Deletes a mapping from receiving trigger events.</p><p>
The given mapping will no longer be assigned to receive trigger
events.
<p>@see InputManager#addMapping(String, org.angle3d.input.controls.Trigger[])</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>mappingName</td><td><p>The mapping name to unregister.</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="deleteTrigger"></a><h3><p><code><span class="keyword">function</span> <a href="#deleteTrigger"><span class="identifier">deleteTrigger</span></a>(mappingName:<span class="type">String</span>, trigger:<a class="type" href="../../../org/angle3d/input/controls/Trigger.html">Trigger</a>):<span class="type">Void</span></code></p></h3><div class="doc"><p>Deletes a specific trigger registered to a mapping.</p><p>
The given mapping will no longer receive events raised by the
trigger.<table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>mappingName</td><td><p>The mapping name to cease receiving events from the
trigger.</p></td></tr><tr><td>trigger</td><td><p>The trigger to no longer invoke events on the mapping.</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="destroy"></a><h3><p><code><span class="keyword">function</span> <a href="#destroy"><span class="identifier">destroy</span></a>():<span class="type">Void</span></code></p></h3><div class="doc"><p></p></div></div><div class="platform platform-documentation"><a name="getAxisDeadZone"></a><h3><p><code><span class="keyword">function</span> <a href="#getAxisDeadZone"><span class="identifier">getAxisDeadZone</span></a>():<span class="type">Float</span></code></p></h3><div class="doc"><p>Returns the deadzone for joystick axes.</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>returns</td><td><p>the deadzone for joystick axes.</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="initialize"></a><h3><p><code><span class="keyword">function</span> <a href="#initialize"><span class="identifier">initialize</span></a>(stage:<span class="type">Stage</span>):<span class="type">Void</span></code></p></h3><div class="doc"><p></p></div></div><div class="platform platform-documentation"><a name="isCursorVisible"></a><h3><p><code><span class="keyword">function</span> <a href="#isCursorVisible"><span class="identifier">isCursorVisible</span></a>():<span class="type">Bool</span></code></p></h3><div class="doc"><p>Returns whether the mouse cursor is visible or not.</p><p>By default the cursor is visible.
<p>@see InputManager#setCursorVisible(Bool)</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>returns</td><td><p>whether the mouse cursor is visible or not.</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="onKeyEvent"></a><h3><p><code><span class="keyword">function</span> <a href="#onKeyEvent"><span class="identifier">onKeyEvent</span></a>(evt:<a class="type" href="../../../org/angle3d/input/event/KeyInputEvent.html">KeyInputEvent</a>):<span class="type">Void</span></code></p></h3><div class="doc"><p>Invoked on keyboard key press or release events.</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>null</td><td><p>evt</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="onMouseButtonEvent"></a><h3><p><code><span class="keyword">function</span> <a href="#onMouseButtonEvent"><span class="identifier">onMouseButtonEvent</span></a>(evt:<a class="type" href="../../../org/angle3d/input/event/MouseButtonEvent.html">MouseButtonEvent</a>):<span class="type">Void</span></code></p></h3><div class="doc"><p>Callback from RawInputListener. Do not use.</p></div></div><div class="platform platform-documentation"><a name="onMouseMotionEvent"></a><h3><p><code><span class="keyword">function</span> <a href="#onMouseMotionEvent"><span class="identifier">onMouseMotionEvent</span></a>(evt:<a class="type" href="../../../org/angle3d/input/event/MouseMotionEvent.html">MouseMotionEvent</a>):<span class="type">Void</span></code></p></h3><div class="doc"><p>Invoked on mouse movement/motion events.</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>null</td><td><p>evt</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="onMouseWheelEvent"></a><h3><p><code><span class="keyword">function</span> <a href="#onMouseWheelEvent"><span class="identifier">onMouseWheelEvent</span></a>(evt:<a class="type" href="../../../org/angle3d/input/event/MouseWheelEvent.html">MouseWheelEvent</a>):<span class="type">Void</span></code></p></h3><div class="doc"><p></p></div></div><div class="platform platform-documentation"><a name="removeListener"></a><h3><p><code><span class="keyword">function</span> <a href="#removeListener"><span class="identifier">removeListener</span></a>(listener:<a class="type" href="../../../org/angle3d/input/controls/InputListener.html">InputListener</a>):<span class="type">Void</span></code></p></h3><div class="doc"><p>Removes a listener from receiving events.</p><p>This will unregister the listener from any mappings that it
was previously registered with via
{InputManager#addListener(org.angle3d.input.controls.InputListener, String[]) }.
<p>@see InputManager#addListener(org.angle3d.input.controls.InputListener, String[])</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>listener</td><td><p>The listener to unregister.</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="removeRawInputListener"></a><h3><p><code><span class="keyword">function</span> <a href="#removeRawInputListener"><span class="identifier">removeRawInputListener</span></a>(listener:<a class="type" href="../../../org/angle3d/input/RawInputListener.html">RawInputListener</a>):<span class="type">Void</span></code></p></h3><div class="doc"><p>Removes a {RawInputListener} so that it no longer
receives raw input events.</p>
<p>@see InputManager#addRawInputListener(org.angle3d.input.RawInputListener)</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>listener</td><td><p>The listener to cease receiving raw input events.</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="reset"></a><h3><p><code><span class="keyword">function</span> <a href="#reset"><span class="identifier">reset</span></a>():<span class="type">Void</span></code></p></h3><div class="doc"><p>Do not use.
Called to reset pressed keys or buttons when focus is restored.</p></div></div><div class="platform platform-documentation"><a name="setAxisDeadZone"></a><h3><p><code><span class="keyword">function</span> <a href="#setAxisDeadZone"><span class="identifier">setAxisDeadZone</span></a>(deadZone:<span class="type">Float</span>):<span class="type">Void</span></code></p></h3><div class="doc"><p>set the deadzone for joystick axes.</p><p>{ActionListener#onAction(String, Bool, float) }
events will only be raised if the joystick axis value is greater than
the deadZone.<table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>deadZone</td><td><p>the deadzone for joystick axes.</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="setCursorVisible"></a><h3><p><code><span class="keyword">function</span> <a href="#setCursorVisible"><span class="identifier">setCursorVisible</span></a>(visible:<span class="type">Bool</span>):<span class="type">Void</span></code></p></h3><div class="doc"><p>set whether the mouse cursor should be visible or not.</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>visible</td><td><p>whether the mouse cursor should be visible or not.</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="update"></a><h3><p><code><span class="keyword">function</span> <a href="#update"><span class="identifier">update</span></a>(tpf:<span class="type">Float</span>):<span class="type">Void</span></code></p></h3><div class="doc"><p>Updates the InputManager.
This will query current input devices and send
appropriate events to registered listeners.</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>tpf</td><td><p>Time per frame value.</p></td></tr></tbody></table></div></div></div></div></div></body></html>