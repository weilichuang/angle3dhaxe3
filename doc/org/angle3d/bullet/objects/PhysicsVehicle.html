<!DOCTYPE html>
<html lang="en"><head><meta charset="utf-8"/><link href="../../../../bootstrap-combined.min.css" rel="stylesheet" /><script type="text/javascript" src="../../../../jquery-1.9.1.min.js"></script><script type="text/javascript" src="../../../../bootstrap.min.js"></script><link href="../../../../styles.css" rel="stylesheet" /><link rel="icon" href="../../../../favicon.ico" type="image/x-icon"></link><script type="text/javascript" src="../../../../nav.js"></script><script type="text/javascript" src="../../../../index.js"></script><script type="text/javascript">var dox = {rootPath: "../../../../",platforms: ["documentation"]};</script><title>PhysicsVehicle - Angle3D</title></head><body><div class="navbar navbar-inverse navbar-fixed-top"><div class="navbar-inner"><form class="navbar-search pull-left" id="searchForm"><input id="search" type="text" class="search-query" placeholder="Filter" autocomplete="off"/></form><ul class="nav"><li id="select-platform" class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown">Platform<b class="caret"></b></a><ul class="dropdown-menu"><li data="all"><a href="#">All Platforms</a></li><li data="documentation"><a href="#">documentation</a></li></ul></li></ul></div></div><div id="container"><div id="nav"></div><div id="content"><div class="header"><h1><code><span class="directive">class </span><span class="type">org.angle3d.bullet.objects.PhysicsVehicle</span><span class="keyword"> extends</span> <a class="type" href="../../../../org/angle3d/bullet/objects/PhysicsRigidBody.html">PhysicsRigidBody</a></code></h1></div><div class="body"><p class="availability">Available on all platforms</p><div><table class="related-types toggle" style="margin-top:16px;"><tbody><tr><td colspan="2"><strong>Sub classes</strong></td></tr><tr><td width="12" style="vertical-align:top;"><a href="#" onclick="toggleInherited(this)"><img style="padding-top:4px;" src="../../../../triangle-closed.png"></img></a></td><td class="toggle-hide"><a href="../../../../org/angle3d/bullet/control/VehicleControl.html">VehicleControl</a></td><td class="toggle-show"><table class="table table-condensed"><tbody><tr><td width="200"><a href="../../../../org/angle3d/bullet/control/VehicleControl.html">VehicleControl</a></td><td><p></p></td></tr></tbody></table></td></tr></tbody></table></div><div class="doc"><p>...</p></div><h2>Instance Fields</h2><div class="platform platform-documentation"><a name="new"></a><h3><p><code><span class="keyword">function</span> <a href="#new"><span class="identifier">new</span></a>(shape:<a class="type" href="../../../../org/angle3d/bullet/collision/shapes/CollisionShape.html">CollisionShape</a>, ?mass:<span class="type">Float</span>):<span class="type">Void</span></code></p></h3><div class="doc"><p></p></div></div><div class="platform platform-documentation"><a name="accelerate"></a><h3><p><code><span class="keyword">function</span> <a href="#accelerate"><span class="identifier">accelerate</span></a>(force:<span class="type">Float</span>):<span class="type">Void</span></code></p></h3><div class="doc"><p>Apply the given engine force to all wheels, works continuously</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>force</td><td><p>the force</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="accelerateAt"></a><h3><p><code><span class="keyword">function</span> <a href="#accelerateAt"><span class="identifier">accelerateAt</span></a>(wheel:<span class="type">Int</span>, force:<span class="type">Float</span>):<span class="type">Void</span></code></p></h3><div class="doc"><p>Apply the given engine force, works continuously</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>wheel</td><td><p>the wheel to apply the force on</p></td></tr><tr><td>force</td><td><p>the force</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="addWheel"></a><h3><p><code><span class="keyword">function</span> <a href="#addWheel"><span class="identifier">addWheel</span></a>(connectionPoint:<a class="type" href="../../../../org/angle3d/math/Vector3f.html">Vector3f</a>, direction:<a class="type" href="../../../../org/angle3d/math/Vector3f.html">Vector3f</a>, axle:<a class="type" href="../../../../org/angle3d/math/Vector3f.html">Vector3f</a>, suspensionRestLength:<span class="type">Float</span>, wheelRadius:<span class="type">Float</span>, isFrontWheel:<span class="type">Bool</span>, ?spat:<a class="type" href="../../../../org/angle3d/scene/Spatial.html">Spatial</a>):<a class="type" href="../../../../org/angle3d/bullet/objects/VehicleWheel.html">VehicleWheel</a></code></p></h3><div class="doc"><p>Add a wheel to this vehicle</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>spat</td><td><p>the wheel Geometry</p></td></tr><tr><td>connectionPoint</td><td><p>The starting point of the ray, where the suspension connects to the chassis (chassis space)</p></td></tr><tr><td>direction</td><td><p>the direction of the wheel (should be -Y / 0,-1,0 for a normal car)</p></td></tr><tr><td>axle</td><td><p>The axis of the wheel, pointing right in vehicle direction (should be -X / -1,0,0 for a normal car)</p></td></tr><tr><td>suspensionRestLength</td><td><p>The current length of the suspension (metres)</p></td></tr><tr><td>wheelRadius</td><td><p>the wheel radius</p></td></tr><tr><td>isFrontWheel</td><td><p>sets if this wheel is a front wheel (steering)</p></td></tr><tr><td>returns</td><td><p>the PhysicsVehicleWheel object to get/set infos on the wheel</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="applyWheelTransforms"></a><h3><p><code><span class="keyword">function</span> <a href="#applyWheelTransforms"><span class="identifier">applyWheelTransforms</span></a>():<span class="type">Void</span></code></p></h3><div class="doc"><p>used internally</p></div></div><div class="platform platform-documentation"><a name="brake"></a><h3><p><code><span class="keyword">function</span> <a href="#brake"><span class="identifier">brake</span></a>(force:<span class="type">Float</span>):<span class="type">Void</span></code></p></h3><div class="doc"><p>Apply the given brake force to all wheels, works continuously</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>force</td><td><p>the force</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="brakeAt"></a><h3><p><code><span class="keyword">function</span> <a href="#brakeAt"><span class="identifier">brakeAt</span></a>(wheel:<span class="type">Int</span>, force:<span class="type">Float</span>):<span class="type">Void</span></code></p></h3><div class="doc"><p>Apply the given brake force, works continuously</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>wheel</td><td><p>the wheel to apply the force on</p></td></tr><tr><td>force</td><td><p>the force</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="createVehicle"></a><h3><p><code><span class="keyword">function</span> <a href="#createVehicle"><span class="identifier">createVehicle</span></a>(space:<a class="type" href="../../../../org/angle3d/bullet/PhysicsSpace.html">PhysicsSpace</a>):<span class="type">Void</span></code></p></h3><div class="doc"><p>Used internally, creates the actual vehicle constraint when vehicle is added to phyicsspace</p></div></div><div class="platform platform-documentation"><a name="getCurrentVehicleSpeedKmHour"></a><h3><p><code><span class="keyword">function</span> <a href="#getCurrentVehicleSpeedKmHour"><span class="identifier">getCurrentVehicleSpeedKmHour</span></a>():<span class="type">Float</span></code></p></h3><div class="doc"><p>Get the current speed of the vehicle in km/h
@return</p></div></div><div class="platform platform-documentation"><a name="getForwardVector"></a><h3><p><code><span class="keyword">function</span> <a href="#getForwardVector"><span class="identifier">getForwardVector</span></a>(vector:<a class="type" href="../../../../org/angle3d/math/Vector3f.html">Vector3f</a>):<a class="type" href="../../../../org/angle3d/math/Vector3f.html">Vector3f</a></code></p></h3><div class="doc"><p>Get the current forward vector of the vehicle in world coordinates</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>vector</td><td><p>The object to write the forward vector values to.
Passing null will cause a new {Vector3f) to be created.</p></td></tr><tr><td>returns</td><td><p>The forward vector</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="getFrictionSlip"></a><h3><p><code><span class="keyword">function</span> <a href="#getFrictionSlip"><span class="identifier">getFrictionSlip</span></a>():<span class="type">Float</span></code></p></h3><div class="doc"><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>returns</td><td><p>the frictionSlip</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="getMaxSuspensionForce"></a><h3><p><code><span class="keyword">function</span> <a href="#getMaxSuspensionForce"><span class="identifier">getMaxSuspensionForce</span></a>():<span class="type">Float</span></code></p></h3><div class="doc"><p></p></div></div><div class="platform platform-documentation"><a name="getMaxSuspensionTravelCm"></a><h3><p><code><span class="keyword">function</span> <a href="#getMaxSuspensionTravelCm"><span class="identifier">getMaxSuspensionTravelCm</span></a>():<span class="type">Float</span></code></p></h3><div class="doc"><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>returns</td><td><p>the maxSuspensionTravelCm</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="getNumWheels"></a><h3><p><code><span class="keyword">function</span> <a href="#getNumWheels"><span class="identifier">getNumWheels</span></a>():<span class="type">Int</span></code></p></h3><div class="doc"><p></p></div></div><div class="platform platform-documentation"><a name="getSuspensionCompression"></a><h3><p><code><span class="keyword">function</span> <a href="#getSuspensionCompression"><span class="identifier">getSuspensionCompression</span></a>():<span class="type">Float</span></code></p></h3><div class="doc"><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>returns</td><td><p>the suspensionCompression</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="getSuspensionDamping"></a><h3><p><code><span class="keyword">function</span> <a href="#getSuspensionDamping"><span class="identifier">getSuspensionDamping</span></a>():<span class="type">Float</span></code></p></h3><div class="doc"><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>returns</td><td><p>the suspensionDamping</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="getSuspensionStiffness"></a><h3><p><code><span class="keyword">function</span> <a href="#getSuspensionStiffness"><span class="identifier">getSuspensionStiffness</span></a>():<span class="type">Float</span></code></p></h3><div class="doc"><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>returns</td><td><p>the suspensionStiffness</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="getVehicleId"></a><h3><p><code><span class="keyword">function</span> <a href="#getVehicleId"><span class="identifier">getVehicleId</span></a>():<a class="type" href="../../../../com/bulletphysics/dynamics/vehicle/RaycastVehicle.html">RaycastVehicle</a></code></p></h3><div class="doc"><p>used internally</p></div></div><div class="platform platform-documentation"><a name="getWheel"></a><h3><p><code><span class="keyword">function</span> <a href="#getWheel"><span class="identifier">getWheel</span></a>(wheel:<span class="type">Int</span>):<a class="type" href="../../../../org/angle3d/bullet/objects/VehicleWheel.html">VehicleWheel</a></code></p></h3><div class="doc"><p>You can get access to the single wheels via this method.</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>wheel</td><td><p>the wheel index</p></td></tr><tr><td>returns</td><td><p>the WheelInfo of the selected wheel</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="removeWheel"></a><h3><p><code><span class="keyword">function</span> <a href="#removeWheel"><span class="identifier">removeWheel</span></a>(wheel:<span class="type">Int</span>):<span class="type">Void</span></code></p></h3><div class="doc"><p>This rebuilds the vehicle as there is no way in bullet to remove a wheel.</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>null</td><td><p>wheel</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="resetSuspension"></a><h3><p><code><span class="keyword">function</span> <a href="#resetSuspension"><span class="identifier">resetSuspension</span></a>():<span class="type">Void</span></code></p></h3><div class="doc"><p>Reset the suspension</p></div></div><div class="platform platform-documentation"><a name="setFrictionSlip"></a><h3><p><code><span class="keyword">function</span> <a href="#setFrictionSlip"><span class="identifier">setFrictionSlip</span></a>(frictionSlip:<span class="type">Float</span>):<span class="type">Void</span></code></p></h3><div class="doc"><p>Use before adding wheels, this is the default used when adding wheels.
After adding the wheel, use direct wheel access.<br>
The coefficient of friction between the tyre and the ground.
Should be about 0.8 for realistic cars, but can increased for better handling.
Set large (10000.0) for kart racers</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>frictionSlip</td><td><p>the frictionSlip to set</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="setFrictionSlipAt"></a><h3><p><code><span class="keyword">function</span> <a href="#setFrictionSlipAt"><span class="identifier">setFrictionSlipAt</span></a>(wheel:<span class="type">Int</span>, frictionSlip:<span class="type">Float</span>):<span class="type">Void</span></code></p></h3><div class="doc"><p>The coefficient of friction between the tyre and the ground.
Should be about 0.8 for realistic cars, but can increased for better handling.
Set large (10000.0) for kart racers</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>wheel</td><td></td></tr><tr><td>null</td><td><p>frictionSlip</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="setMaxSuspensionForce"></a><h3><p><code><span class="keyword">function</span> <a href="#setMaxSuspensionForce"><span class="identifier">setMaxSuspensionForce</span></a>(maxSuspensionForce:<span class="type">Float</span>):<span class="type">Void</span></code></p></h3><div class="doc"><p>This vaue caps the maximum suspension force, raise this above the default 6000 if your suspension cannot
handle the weight of your vehcile.</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>null</td><td><p>maxSuspensionForce</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="setMaxSuspensionForceAt"></a><h3><p><code><span class="keyword">function</span> <a href="#setMaxSuspensionForceAt"><span class="identifier">setMaxSuspensionForceAt</span></a>(wheel:<span class="type">Int</span>, maxSuspensionForce:<span class="type">Float</span>):<span class="type">Void</span></code></p></h3><div class="doc"><p>This vaue caps the maximum suspension force, raise this above the default 6000 if your suspension cannot
handle the weight of your vehcile.</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>wheel</td><td></td></tr><tr><td>null</td><td><p>maxSuspensionForce</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="setMaxSuspensionTravelCm"></a><h3><p><code><span class="keyword">function</span> <a href="#setMaxSuspensionTravelCm"><span class="identifier">setMaxSuspensionTravelCm</span></a>(maxSuspensionTravelCm:<span class="type">Float</span>):<span class="type">Void</span></code></p></h3><div class="doc"><p>Use before adding wheels, this is the default used when adding wheels.
After adding the wheel, use direct wheel access.<br>
The maximum distance the suspension can be compressed (centimetres)</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>maxSuspensionTravelCm</td><td><p>the maxSuspensionTravelCm to set</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="setMaxSuspensionTravelCmAt"></a><h3><p><code><span class="keyword">function</span> <a href="#setMaxSuspensionTravelCmAt"><span class="identifier">setMaxSuspensionTravelCmAt</span></a>(wheel:<span class="type">Int</span>, maxSuspensionTravelCm:<span class="type">Float</span>):<span class="type">Void</span></code></p></h3><div class="doc"><p>The maximum distance the suspension can be compressed (centimetres)</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>wheel</td><td></td></tr><tr><td>null</td><td><p>maxSuspensionTravelCm</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="setRollInfluence"></a><h3><p><code><span class="keyword">function</span> <a href="#setRollInfluence"><span class="identifier">setRollInfluence</span></a>(wheel:<span class="type">Int</span>, rollInfluence:<span class="type">Float</span>):<span class="type">Void</span></code></p></h3><div class="doc"><p>Reduces the rolling torque applied from the wheels that cause the vehicle to roll over.
This is a bit of a hack, but it's quite effective. 0.0 = no roll, 1.0 = physical behaviour.
If m_frictionSlip is too high, you'll need to reduce this to stop the vehicle rolling over.
You should also try lowering the vehicle's centre of mass</p></div></div><div class="platform platform-documentation"><a name="setSuspensionCompression"></a><h3><p><code><span class="keyword">function</span> <a href="#setSuspensionCompression"><span class="identifier">setSuspensionCompression</span></a>(suspensionCompression:<span class="type">Float</span>):<span class="type">Void</span></code></p></h3><div class="doc"><p>Use before adding wheels, this is the default used when adding wheels.
After adding the wheel, use direct wheel access.<br>
The damping coefficient for when the suspension is compressed.
Set to k * 2.0 * FastMath.sqrt(m_suspensionStiffness) so k is proportional to critical damping.<br>
k = 0.0 undamped &amp; bouncy, k = 1.0 critical damping<br>
0.1 to 0.3 are good values</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>suspensionCompression</td><td><p>the suspensionCompression to set</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="setSuspensionCompressionAt"></a><h3><p><code><span class="keyword">function</span> <a href="#setSuspensionCompressionAt"><span class="identifier">setSuspensionCompressionAt</span></a>(wheel:<span class="type">Int</span>, suspensionCompression:<span class="type">Float</span>):<span class="type">Void</span></code></p></h3><div class="doc"><p>The damping coefficient for when the suspension is compressed.
Set to k * 2.0 * FastMath.sqrt(m_suspensionStiffness) so k is proportional to critical damping.<br>
k = 0.0 undamped &amp; bouncy, k = 1.0 critical damping<br>
0.1 to 0.3 are good values</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>wheel</td><td></td></tr><tr><td>null</td><td><p>suspensionCompression</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="setSuspensionDamping"></a><h3><p><code><span class="keyword">function</span> <a href="#setSuspensionDamping"><span class="identifier">setSuspensionDamping</span></a>(suspensionDamping:<span class="type">Float</span>):<span class="type">Void</span></code></p></h3><div class="doc"><p>Use before adding wheels, this is the default used when adding wheels.
After adding the wheel, use direct wheel access.<br>
The damping coefficient for when the suspension is expanding.
See the comments for setSuspensionCompression for how to set k.</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>suspensionDamping</td><td><p>the suspensionDamping to set</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="setSuspensionDampingAt"></a><h3><p><code><span class="keyword">function</span> <a href="#setSuspensionDampingAt"><span class="identifier">setSuspensionDampingAt</span></a>(wheel:<span class="type">Int</span>, suspensionDamping:<span class="type">Float</span>):<span class="type">Void</span></code></p></h3><div class="doc"><p>The damping coefficient for when the suspension is expanding.
See the comments for setSuspensionCompression for how to set k.</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>wheel</td><td></td></tr><tr><td>null</td><td><p>suspensionDamping</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="setSuspensionStiffness"></a><h3><p><code><span class="keyword">function</span> <a href="#setSuspensionStiffness"><span class="identifier">setSuspensionStiffness</span></a>(suspensionStiffness:<span class="type">Float</span>):<span class="type">Void</span></code></p></h3><div class="doc"><p>Use before adding wheels, this is the default used when adding wheels.
After adding the wheel, use direct wheel access.<br>
The stiffness constant for the suspension.  10.0 - Offroad buggy, 50.0 - Sports car, 200.0 - F1 Car</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>null</td><td><p>suspensionStiffness</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="setSuspensionStiffnessAt"></a><h3><p><code><span class="keyword">function</span> <a href="#setSuspensionStiffnessAt"><span class="identifier">setSuspensionStiffnessAt</span></a>(wheel:<span class="type">Int</span>, suspensionStiffness:<span class="type">Float</span>):<span class="type">Void</span></code></p></h3><div class="doc"><p>The stiffness constant for the suspension.  10.0 - Offroad buggy, 50.0 - Sports car, 200.0 - F1 Car</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>wheel</td><td></td></tr><tr><td>null</td><td><p>suspensionStiffness</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="steer"></a><h3><p><code><span class="keyword">function</span> <a href="#steer"><span class="identifier">steer</span></a>(value:<span class="type">Float</span>):<span class="type">Void</span></code></p></h3><div class="doc"><p>Set the given steering value to all front wheels (0 = forward)</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>value</td><td><p>the steering angle of the front wheels (Pi = 360deg)</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="steerAt"></a><h3><p><code><span class="keyword">function</span> <a href="#steerAt"><span class="identifier">steerAt</span></a>(wheel:<span class="type">Int</span>, value:<span class="type">Float</span>):<span class="type">Void</span></code></p></h3><div class="doc"><p>Set the given steering value to the given wheel (0 = forward)</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>wheel</td><td><p>the wheel to set the steering on</p></td></tr><tr><td>value</td><td><p>the steering angle of the front wheels (Pi = 360deg)</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="updateWheels"></a><h3><p><code><span class="keyword">function</span> <a href="#updateWheels"><span class="identifier">updateWheels</span></a>():<span class="type">Void</span></code></p></h3><div class="doc"><p>used internally</p></div></div></div></div></div></body></html>