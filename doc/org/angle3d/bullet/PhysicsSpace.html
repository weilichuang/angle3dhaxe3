<!DOCTYPE html>
<html lang="en"><head><meta charset="utf-8"/><link href="../../../bootstrap-combined.min.css" rel="stylesheet" /><script type="text/javascript" src="../../../jquery-1.9.1.min.js"></script><script type="text/javascript" src="../../../bootstrap.min.js"></script><link href="../../../styles.css" rel="stylesheet" /><link rel="icon" href="../../../favicon.ico" type="image/x-icon"></link><script type="text/javascript" src="../../../nav.js"></script><script type="text/javascript" src="../../../index.js"></script><script type="text/javascript">var dox = {rootPath: "../../../",platforms: ["documentation"]};</script><title>PhysicsSpace - Angle3D</title></head><body><div class="navbar navbar-inverse navbar-fixed-top"><div class="navbar-inner"><form class="navbar-search pull-left" id="searchForm"><input id="search" type="text" class="search-query" placeholder="Filter" autocomplete="off"/></form><ul class="nav"><li id="select-platform" class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown">Platform<b class="caret"></b></a><ul class="dropdown-menu"><li data="all"><a href="#">All Platforms</a></li><li data="documentation"><a href="#">documentation</a></li></ul></li></ul></div></div><div id="container"><div id="nav"></div><div id="content"><div class="header"><h1><code><span class="directive">class </span><span class="type">org.angle3d.bullet.PhysicsSpace</span></code></h1></div><div class="body"><p class="availability">Available on all platforms</p><div class="doc"><p>PhysicsSpace - The central jbullet-jme physics space</p>
@author normenhansen</div><h2>Class Fields</h2><div class="platform platform-documentation"><a name="AXIS_X"></a><h3><p><code><span class="keyword">static </span><span class="keyword">var</span> <a href="#AXIS_X"><span class="identifier">AXIS_X</span></a>:<span class="type">Int</span></code></p></h3><div class="doc"><p></p></div></div><div class="platform platform-documentation"><a name="AXIS_Y"></a><h3><p><code><span class="keyword">static </span><span class="keyword">var</span> <a href="#AXIS_Y"><span class="identifier">AXIS_Y</span></a>:<span class="type">Int</span></code></p></h3><div class="doc"><p></p></div></div><div class="platform platform-documentation"><a name="AXIS_Z"></a><h3><p><code><span class="keyword">static </span><span class="keyword">var</span> <a href="#AXIS_Z"><span class="identifier">AXIS_Z</span></a>:<span class="type">Int</span></code></p></h3><div class="doc"><p></p></div></div><div class="platform platform-documentation"><a name="getPhysicsSpace"></a><h3><p><code><span class="keyword">static </span><span class="keyword">function</span> <a href="#getPhysicsSpace"><span class="identifier">getPhysicsSpace</span></a>():<a class="type" href="../../../org/angle3d/bullet/PhysicsSpace.html">PhysicsSpace</a></code></p></h3><div class="doc"><p></p></div></div><h2>Instance Fields</h2><div class="platform platform-documentation"><a name="new"></a><h3><p><code><span class="keyword">function</span> <a href="#new"><span class="identifier">new</span></a>(?worldMin:<a class="type" href="../../../org/angle3d/math/Vector3f.html">Vector3f</a>, ?worldMax:<a class="type" href="../../../org/angle3d/math/Vector3f.html">Vector3f</a>, ?broadphaseType:<a class="type" href="../../../org/angle3d/bullet/BroadphaseType.html">BroadphaseType</a>):<span class="type">Void</span></code></p></h3><div class="doc"><p></p></div></div><div class="platform platform-documentation"><a name="add"></a><h3><p><code><span class="keyword">function</span> <a href="#add"><span class="identifier">add</span></a>(obj:<span class="type">Dynamic</span>):<span class="type">Void</span></code></p></h3><div class="doc"><p>adds an object to the physics space</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>obj</td><td><p>the PhysicsControl or Spatial with PhysicsControl to add</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="addAll"></a><h3><p><code><span class="keyword">function</span> <a href="#addAll"><span class="identifier">addAll</span></a>(spatial:<a class="type" href="../../../org/angle3d/scene/Spatial.html">Spatial</a>):<span class="type">Void</span></code></p></h3><div class="doc"><p>adds all physics controls and joints in the given spatial node to the physics space
(e.g. after loading from disk) - recursive if node</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>spatial</td><td><p>the rootnode containing the physics objects</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="addCollisionGroupListener"></a><h3><p><code><span class="keyword">function</span> <a href="#addCollisionGroupListener"><span class="identifier">addCollisionGroupListener</span></a>(listener:<a class="type" href="../../../org/angle3d/bullet/collision/PhysicsCollisionGroupListener.html">PhysicsCollisionGroupListener</a>, collisionGroup:<span class="type">Int</span>):<span class="type">Void</span></code></p></h3><div class="doc"><p>Adds a listener for a specific collision group, such a listener can disable collisions when they happen.<br>
There can be only one listener per collision group.</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>listener</td><td></td></tr><tr><td>null</td><td><p>collisionGroup</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="addCollisionListener"></a><h3><p><code><span class="keyword">function</span> <a href="#addCollisionListener"><span class="identifier">addCollisionListener</span></a>(listener:<a class="type" href="../../../org/angle3d/bullet/collision/PhysicsCollisionListener.html">PhysicsCollisionListener</a>):<span class="type">Void</span></code></p></h3><div class="doc"><p>Adds a CollisionListener that will be informed about collision events</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>listener</td><td><p>the CollisionListener to add</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="addCollisionObject"></a><h3><p><code><span class="keyword">function</span> <a href="#addCollisionObject"><span class="identifier">addCollisionObject</span></a>(obj:<a class="type" href="../../../org/angle3d/bullet/collision/PhysicsCollisionObject.html">PhysicsCollisionObject</a>):<span class="type">Void</span></code></p></h3><div class="doc"><p></p></div></div><div class="platform platform-documentation"><a name="addTickListener"></a><h3><p><code><span class="keyword">function</span> <a href="#addTickListener"><span class="identifier">addTickListener</span></a>(listener:<a class="type" href="../../../org/angle3d/bullet/PhysicsTickListener.html">PhysicsTickListener</a>):<span class="type">Void</span></code></p></h3><div class="doc"><p>Adds the specified listener to the physics tick listeners.
The listeners are called on each physics step, which is not necessarily
each frame but is determined by the accuracy of the physics space.</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>null</td><td><p>listener</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="applyGravity"></a><h3><p><code><span class="keyword">function</span> <a href="#applyGravity"><span class="identifier">applyGravity</span></a>():<span class="type">Void</span></code></p></h3><div class="doc"><p>applies gravity value to all objects</p></div></div><div class="platform platform-documentation"><a name="clearForces"></a><h3><p><code><span class="keyword">function</span> <a href="#clearForces"><span class="identifier">clearForces</span></a>():<span class="type">Void</span></code></p></h3><div class="doc"><p>clears forces of all objects</p></div></div><div class="platform platform-documentation"><a name="create"></a><h3><p><code><span class="keyword">function</span> <a href="#create"><span class="identifier">create</span></a>():<span class="type">Void</span></code></p></h3><div class="doc"><p>Has to be called from the (designated) physics thread</p></div></div><div class="platform platform-documentation"><a name="destroy"></a><h3><p><code><span class="keyword">function</span> <a href="#destroy"><span class="identifier">destroy</span></a>():<span class="type">Void</span></code></p></h3><div class="doc"><p>destroys the current PhysicsSpace so that a new one can be created</p></div></div><div class="platform platform-documentation"><a name="distributeEvents"></a><h3><p><code><span class="keyword">function</span> <a href="#distributeEvents"><span class="identifier">distributeEvents</span></a>():<span class="type">Void</span></code></p></h3><div class="doc"><p></p></div></div><div class="platform platform-documentation"><a name="getAccuracy"></a><h3><p><code><span class="keyword">function</span> <a href="#getAccuracy"><span class="identifier">getAccuracy</span></a>():<span class="type">Float</span></code></p></h3><div class="doc"><p>get the current accuracy of the physics computation</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>returns</td><td><p>the current accuracy</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="getBroadphaseType"></a><h3><p><code><span class="keyword">function</span> <a href="#getBroadphaseType"><span class="identifier">getBroadphaseType</span></a>():<a class="type" href="../../../org/angle3d/bullet/BroadphaseType.html">BroadphaseType</a></code></p></h3><div class="doc"><p></p></div></div><div class="platform platform-documentation"><a name="getCharacterList"></a><h3><p><code><span class="keyword">function</span> <a href="#getCharacterList"><span class="identifier">getCharacterList</span></a>():<span class="type">Array</span>&lt;<a class="type" href="../../../org/angle3d/bullet/objects/PhysicsCharacter.html">PhysicsCharacter</a>&gt;</code></p></h3><div class="doc"><p></p></div></div><div class="platform platform-documentation"><a name="getDynamicsWorld"></a><h3><p><code><span class="keyword">function</span> <a href="#getDynamicsWorld"><span class="identifier">getDynamicsWorld</span></a>():<a class="type" href="../../../com/bulletphysics/dynamics/DynamicsWorld.html">DynamicsWorld</a></code></p></h3><div class="doc"><p>used internally</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>returns</td><td><p>the dynamicsWorld</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="getGhostObjectList"></a><h3><p><code><span class="keyword">function</span> <a href="#getGhostObjectList"><span class="identifier">getGhostObjectList</span></a>():<span class="type">Array</span>&lt;<a class="type" href="../../../org/angle3d/bullet/objects/PhysicsGhostObject.html">PhysicsGhostObject</a>&gt;</code></p></h3><div class="doc"><p></p></div></div><div class="platform platform-documentation"><a name="getGravity"></a><h3><p><code><span class="keyword">function</span> <a href="#getGravity"><span class="identifier">getGravity</span></a>(gravity:<a class="type" href="../../../org/angle3d/math/Vector3f.html">Vector3f</a>):<a class="type" href="../../../org/angle3d/math/Vector3f.html">Vector3f</a></code></p></h3><div class="doc"><p>Gets the gravity of the PhysicsSpace</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>null</td><td><p>gravity</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="getJointList"></a><h3><p><code><span class="keyword">function</span> <a href="#getJointList"><span class="identifier">getJointList</span></a>():<span class="type">Array</span>&lt;<a class="type" href="../../../org/angle3d/bullet/joints/PhysicsJoint.html">PhysicsJoint</a>&gt;</code></p></h3><div class="doc"><p></p></div></div><div class="platform platform-documentation"><a name="getRigidBodyList"></a><h3><p><code><span class="keyword">function</span> <a href="#getRigidBodyList"><span class="identifier">getRigidBodyList</span></a>():<span class="type">Array</span>&lt;<a class="type" href="../../../org/angle3d/bullet/objects/PhysicsRigidBody.html">PhysicsRigidBody</a>&gt;</code></p></h3><div class="doc"><p></p></div></div><div class="platform platform-documentation"><a name="getSolverNumIterations"></a><h3><p><code><span class="keyword">function</span> <a href="#getSolverNumIterations"><span class="identifier">getSolverNumIterations</span></a>():<span class="type">Int</span></code></p></h3><div class="doc"><p>Get the number of iterations used by the contact solver.</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>returns</td><td><p>The number of iterations used by the contact &amp; constraint solver.</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="getVehicleList"></a><h3><p><code><span class="keyword">function</span> <a href="#getVehicleList"><span class="identifier">getVehicleList</span></a>():<span class="type">Array</span>&lt;<a class="type" href="../../../org/angle3d/bullet/objects/PhysicsVehicle.html">PhysicsVehicle</a>&gt;</code></p></h3><div class="doc"><p></p></div></div><div class="platform platform-documentation"><a name="getWorldMax"></a><h3><p><code><span class="keyword">function</span> <a href="#getWorldMax"><span class="identifier">getWorldMax</span></a>():<a class="type" href="../../../org/angle3d/math/Vector3f.html">Vector3f</a></code></p></h3><div class="doc"><p></p></div></div><div class="platform platform-documentation"><a name="getWorldMin"></a><h3><p><code><span class="keyword">function</span> <a href="#getWorldMin"><span class="identifier">getWorldMin</span></a>():<a class="type" href="../../../org/angle3d/math/Vector3f.html">Vector3f</a></code></p></h3><div class="doc"><p></p></div></div><div class="platform platform-documentation"><a name="rayTest"></a><h3><p><code><span class="keyword">function</span> <a href="#rayTest"><span class="identifier">rayTest</span></a>(from:<a class="type" href="../../../org/angle3d/math/Vector3f.html">Vector3f</a>, to:<a class="type" href="../../../org/angle3d/math/Vector3f.html">Vector3f</a>, ?results:<span class="type">Array</span>&lt;<a class="type" href="../../../org/angle3d/bullet/collision/PhysicsRayTestResult.html">PhysicsRayTestResult</a>&gt;):<span class="type">Array</span>&lt;<a class="type" href="../../../org/angle3d/bullet/collision/PhysicsRayTestResult.html">PhysicsRayTestResult</a>&gt;</code></p></h3><div class="doc"><p>Performs a ray collision test and returns the results as a list of PhysicsRayTestResults</p></div></div><div class="platform platform-documentation"><a name="remove"></a><h3><p><code><span class="keyword">function</span> <a href="#remove"><span class="identifier">remove</span></a>(obj:<span class="type">Dynamic</span>):<span class="type">Void</span></code></p></h3><div class="doc"><p>removes an object from the physics space</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>obj</td><td><p>the PhysicsControl or Spatial with PhysicsControl to remove</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="removeAll"></a><h3><p><code><span class="keyword">function</span> <a href="#removeAll"><span class="identifier">removeAll</span></a>(spatial:<a class="type" href="../../../org/angle3d/scene/Spatial.html">Spatial</a>):<span class="type">Void</span></code></p></h3><div class="doc"><p>Removes all physics controls and joints in the given spatial from the physics space
(e.g. before saving to disk) - recursive if node</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>spatial</td><td><p>the rootnode containing the physics objects</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="removeCollisionGroupListener"></a><h3><p><code><span class="keyword">function</span> <a href="#removeCollisionGroupListener"><span class="identifier">removeCollisionGroupListener</span></a>(collisionGroup:<span class="type">Int</span>):<span class="type">Void</span></code></p></h3><div class="doc"><p></p></div></div><div class="platform platform-documentation"><a name="removeCollisionListener"></a><h3><p><code><span class="keyword">function</span> <a href="#removeCollisionListener"><span class="identifier">removeCollisionListener</span></a>(listener:<a class="type" href="../../../org/angle3d/bullet/collision/PhysicsCollisionListener.html">PhysicsCollisionListener</a>):<span class="type">Void</span></code></p></h3><div class="doc"><p>Removes a CollisionListener from the list</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>listener</td><td><p>the CollisionListener to remove</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="removeCollisionObject"></a><h3><p><code><span class="keyword">function</span> <a href="#removeCollisionObject"><span class="identifier">removeCollisionObject</span></a>(obj:<a class="type" href="../../../org/angle3d/bullet/collision/PhysicsCollisionObject.html">PhysicsCollisionObject</a>):<span class="type">Void</span></code></p></h3><div class="doc"><p></p></div></div><div class="platform platform-documentation"><a name="removeTickListener"></a><h3><p><code><span class="keyword">function</span> <a href="#removeTickListener"><span class="identifier">removeTickListener</span></a>(listener:<a class="type" href="../../../org/angle3d/bullet/PhysicsTickListener.html">PhysicsTickListener</a>):<span class="type">Void</span></code></p></h3><div class="doc"><p></p></div></div><div class="platform platform-documentation"><a name="setAccuracy"></a><h3><p><code><span class="keyword">function</span> <a href="#setAccuracy"><span class="identifier">setAccuracy</span></a>(accuracy:<span class="type">Float</span>):<span class="type">Void</span></code></p></h3><div class="doc"><p>sets the accuracy of the physics computation, default=1/60s<br></p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>null</td><td><p>accuracy</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="setBroadphaseType"></a><h3><p><code><span class="keyword">function</span> <a href="#setBroadphaseType"><span class="identifier">setBroadphaseType</span></a>(broadphaseType:<a class="type" href="../../../org/angle3d/bullet/BroadphaseType.html">BroadphaseType</a>):<span class="type">Void</span></code></p></h3><div class="doc"><p></p></div></div><div class="platform platform-documentation"><a name="setGravity"></a><h3><p><code><span class="keyword">function</span> <a href="#setGravity"><span class="identifier">setGravity</span></a>(gravity:<a class="type" href="../../../org/angle3d/math/Vector3f.html">Vector3f</a>):<span class="type">Void</span></code></p></h3><div class="doc"><p>Sets the gravity of the PhysicsSpace, set before adding physics objects!</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>null</td><td><p>gravity</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="setMaxSubSteps"></a><h3><p><code><span class="keyword">function</span> <a href="#setMaxSubSteps"><span class="identifier">setMaxSubSteps</span></a>(steps:<span class="type">Int</span>):<span class="type">Void</span></code></p></h3><div class="doc"><p>Sets the maximum amount of extra steps that will be used to step the physics
when the fps is below the physics fps. Doing this maintains determinism in physics.
For example a maximum number of 2 can compensate for framerates as low as 30fps
when the physics has the default accuracy of 60 fps. Note that setting this
value too high can make the physics drive down its own fps in case its overloaded.</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>steps</td><td><p>The maximum number of extra steps, default is 4.</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="setSolverNumIterations"></a><h3><p><code><span class="keyword">function</span> <a href="#setSolverNumIterations"><span class="identifier">setSolverNumIterations</span></a>(numIterations:<span class="type">Int</span>):<span class="type">Void</span></code></p></h3><div class="doc"><p>Set the number of iterations used by the contact solver.</p>
<p>The default is 10. Use 4 for low quality, 20 for high quality.</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>numIterations</td><td><p>The number of iterations used by the contact &amp; constraint solver.</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="setWorldMax"></a><h3><p><code><span class="keyword">function</span> <a href="#setWorldMax"><span class="identifier">setWorldMax</span></a>(worldMax:<a class="type" href="../../../org/angle3d/math/Vector3f.html">Vector3f</a>):<span class="type">Void</span></code></p></h3><div class="doc"><p>only applies for AXIS_SWEEP broadphase</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>null</td><td><p>worldMax</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="setWorldMin"></a><h3><p><code><span class="keyword">function</span> <a href="#setWorldMin"><span class="identifier">setWorldMin</span></a>(worldMin:<a class="type" href="../../../org/angle3d/math/Vector3f.html">Vector3f</a>):<span class="type">Void</span></code></p></h3><div class="doc"><p>only applies for AXIS_SWEEP broadphase</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>null</td><td><p>worldMin</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="sweepTest"></a><h3><p><code><span class="keyword">function</span> <a href="#sweepTest"><span class="identifier">sweepTest</span></a>(shape:<a class="type" href="../../../org/angle3d/bullet/collision/shapes/CollisionShape.html">CollisionShape</a>, start:<a class="type" href="../../../org/angle3d/math/Transform.html">Transform</a>, end:<a class="type" href="../../../org/angle3d/math/Transform.html">Transform</a>, ?results:<span class="type">Array</span>&lt;<a class="type" href="../../../org/angle3d/bullet/collision/PhysicsSweepTestResult.html">PhysicsSweepTestResult</a>&gt;):<span class="type">Array</span>&lt;<a class="type" href="../../../org/angle3d/bullet/collision/PhysicsSweepTestResult.html">PhysicsSweepTestResult</a>&gt;</code></p></h3><div class="doc"><p>Performs a sweep collision test and returns the results as a list of PhysicsSweepTestResults<br/>
You have to use different Transforms for start and end (at least distance > 0.4f).
SweepTest will not see a collision if it starts INSIDE an object and is moving AWAY from its center.</p></div></div><div class="platform platform-documentation"><a name="update"></a><h3><p><code><span class="keyword">function</span> <a href="#update"><span class="identifier">update</span></a>(time:<span class="type">Float</span>, ?maxSteps:<span class="type">Int</span>):<span class="type">Void</span></code></p></h3><div class="doc"><p>updates the physics space, uses maxSteps<br></p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>time</td><td><p>the current time value</p></td></tr><tr><td>null</td><td><p>maxSteps</p></td></tr></tbody></table></div></div></div></div></div></body></html>