<!DOCTYPE html>
<html lang="en"><head><meta charset="utf-8"/><link href="../../../../bootstrap-combined.min.css" rel="stylesheet" /><script type="text/javascript" src="../../../../jquery-1.9.1.min.js"></script><script type="text/javascript" src="../../../../bootstrap.min.js"></script><link href="../../../../styles.css" rel="stylesheet" /><link rel="icon" href="../../../../favicon.ico" type="image/x-icon"></link><script type="text/javascript" src="../../../../nav.js"></script><script type="text/javascript" src="../../../../index.js"></script><script type="text/javascript">var dox = {rootPath: "../../../../",platforms: ["documentation"]};</script><title>ParticleAffector - Angle3D</title></head><body><div class="navbar navbar-inverse navbar-fixed-top"><div class="navbar-inner"><form class="navbar-search pull-left" id="searchForm"><input id="search" type="text" class="search-query" placeholder="Filter" autocomplete="off"/></form><ul class="nav"><li id="select-platform" class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown">Platform<b class="caret"></b></a><ul class="dropdown-menu"><li data="all"><a href="#">All Platforms</a></li><li data="documentation"><a href="#">documentation</a></li></ul></li></ul></div></div><div id="container"><div id="nav"></div><div id="content"><div class="header"><h1><code><span class="directive">class </span><span class="type">org.angle3d.particles.affectors.ParticleAffector</span></code></h1></div><div class="body"><p class="availability">Available on all platforms</p><div><table class="related-types toggle" style="margin-top:16px;"><tbody><tr><td colspan="2"><strong>Sub classes</strong></td></tr><tr><td width="12" style="vertical-align:top;"><a href="#" onclick="toggleInherited(this)"><img style="padding-top:4px;" src="../../../../triangle-closed.png"></img></a></td><td class="toggle-hide"><a href="../../../../org/angle3d/particles/affectors/ColorAffector.html">ColorAffector</a>, <a href="../../../../org/angle3d/particles/affectors/ScaleAffector.html">ScaleAffector</a></td><td class="toggle-show"><table class="table table-condensed"><tbody><tr><td width="200"><a href="../../../../org/angle3d/particles/affectors/ColorAffector.html">ColorAffector</a></td><td><p>This affector is typically used to change the colour of a particle during its lifetime.</p></td></tr><tr><td width="200"><a href="../../../../org/angle3d/particles/affectors/ScaleAffector.html">ScaleAffector</a></td><td><p></p></td></tr></tbody></table></td></tr></tbody></table></div><div class="doc"><p>Abstract class defining the interface to be implemented by particle affectors.
Particle affectors modify particles in a particle system over their lifetime. This class defines
the interface, and provides a few implementations of some basic functions.</p></div><h2>Instance Fields</h2><div class="platform platform-documentation"><a name="name"></a><h3><p><code><span class="keyword">var</span> <a href="#name"><span class="identifier">name</span></a>:<span class="type">String</span></code></p></h3><div class="doc"><p></p></div></div><div class="platform platform-documentation"><a name="technique"></a><h3><p><code><span class="keyword">var</span> <a href="#technique"><span class="identifier">technique</span></a>:<a class="type" href="../../../../org/angle3d/particles/ParticleTechnique.html">ParticleTechnique</a></code></p></h3><div class="doc"><p></p></div></div><div class="platform platform-documentation"><a name="type"></a><h3><p><code><span class="keyword">var</span> <a href="#type"><span class="identifier">type</span></a>:<span class="type">String</span></code></p></h3><div class="doc"><p></p></div></div><div class="platform platform-documentation"><a name="new"></a><h3><p><code><span class="keyword">function</span> <a href="#new"><span class="identifier">new</span></a>():<span class="type">Void</span></code></p></h3><div class="doc"><p></p></div></div><div class="platform platform-documentation"><a name="_calculateAffectSpecialisationFactor"></a><h3><p><code><span class="keyword">function</span> <a href="#_calculateAffectSpecialisationFactor"><span class="identifier">_calculateAffectSpecialisationFactor</span></a>(particle:<a class="type" href="../../../../org/angle3d/particles/Particle.html">Particle</a>):<span class="type">Float</span></code></p></h3><div class="doc"><p>If the mAffectSpecialisation is used to specialise the affector, a factor can be calculated and used
 in a child class. This factor depends on the value of mAffectSpecialisation.
 @remarks
 This helper method assumes that the particle pointer is valid.</p></div></div><div class="platform platform-documentation"><a name="_firstParticle"></a><h3><p><code><span class="keyword">function</span> <a href="#_firstParticle"><span class="identifier">_firstParticle</span></a>(particleTechnique:<a class="type" href="../../../../org/angle3d/particles/ParticleTechnique.html">ParticleTechnique</a>, particle:<a class="type" href="../../../../org/angle3d/particles/Particle.html">Particle</a>, timeElapsed:<span class="type">Float</span>):<span class="type">Void</span></code></p></h3><div class="doc"><p>Perform precalculations if the first Particle in the update-loop is processed.</p></div></div><div class="platform platform-documentation"><a name="_initForEmission"></a><h3><p><code><span class="keyword">function</span> <a href="#_initForEmission"><span class="identifier">_initForEmission</span></a>():<span class="type">Void</span></code></p></h3><div class="doc"><p>Initialise the ParticleAffector before it is emitted itself.</p></div></div><div class="platform platform-documentation"><a name="_initForExpiration"></a><h3><p><code><span class="keyword">function</span> <a href="#_initForExpiration"><span class="identifier">_initForExpiration</span></a>(technique:<a class="type" href="../../../../org/angle3d/particles/ParticleTechnique.html">ParticleTechnique</a>, timeElapsed:<span class="type">Float</span>):<span class="type">Void</span></code></p></h3><div class="doc"><p>Initialise the ParticleAffector before it is expired itself.</p></div></div><div class="platform platform-documentation"><a name="_initParticleForEmission"></a><h3><p><code><span class="keyword">function</span> <a href="#_initParticleForEmission"><span class="identifier">_initParticleForEmission</span></a>(particle:<a class="type" href="../../../../org/angle3d/particles/Particle.html">Particle</a>):<span class="type">Void</span></code></p></h3><div class="doc"><p>Initialise a newly emitted particle.
 @param
 particle Pointer to a Particle to initialise.</p></div></div><div class="platform platform-documentation"><a name="_notifyPause"></a><h3><p><code><span class="keyword">function</span> <a href="#_notifyPause"><span class="identifier">_notifyPause</span></a>():<span class="type">Void</span></code></p></h3><div class="doc"><p>Perform activities when a ParticleAffector is paused.</p></div></div><div class="platform platform-documentation"><a name="_notifyRescaled"></a><h3><p><code><span class="keyword">function</span> <a href="#_notifyRescaled"><span class="identifier">_notifyRescaled</span></a>(scale:<a class="type" href="../../../../org/angle3d/math/Vector3f.html">Vector3f</a>):<span class="type">Void</span></code></p></h3><div class="doc"><p>Notify that the Affector is rescaled.</p></div></div><div class="platform platform-documentation"><a name="_notifyResume"></a><h3><p><code><span class="keyword">function</span> <a href="#_notifyResume"><span class="identifier">_notifyResume</span></a>():<span class="type">Void</span></code></p></h3><div class="doc"><p>Perform activities when a ParticleAffector is resumed.</p></div></div><div class="platform platform-documentation"><a name="_notifyStart"></a><h3><p><code><span class="keyword">function</span> <a href="#_notifyStart"><span class="identifier">_notifyStart</span></a>():<span class="type">Void</span></code></p></h3><div class="doc"><p>Perform activities when a ParticleAffector is started.</p></div></div><div class="platform platform-documentation"><a name="_notifyStop"></a><h3><p><code><span class="keyword">function</span> <a href="#_notifyStop"><span class="identifier">_notifyStop</span></a>():<span class="type">Void</span></code></p></h3><div class="doc"><p>Perform activities when a ParticleAffector is stopped.</p></div></div><div class="platform platform-documentation"><a name="_postProcessParticles"></a><h3><p><code><span class="keyword">function</span> <a href="#_postProcessParticles"><span class="identifier">_postProcessParticles</span></a>(technique:<a class="type" href="../../../../org/angle3d/particles/ParticleTechnique.html">ParticleTechnique</a>, timeElapsed:<span class="type">Float</span>):<span class="type">Void</span></code></p></h3><div class="doc"><p>Perform activities after the individual particles are processed.
 @remarks
 This function is called after the ParticleTechnique update-loop where all particles are traversed.</p></div></div><div class="platform platform-documentation"><a name="_preProcessParticles"></a><h3><p><code><span class="keyword">function</span> <a href="#_preProcessParticles"><span class="identifier">_preProcessParticles</span></a>(particleTechnique:<a class="type" href="../../../../org/angle3d/particles/ParticleTechnique.html">ParticleTechnique</a>, timeElapsed:<span class="type">Float</span>):<span class="type">Void</span></code></p></h3><div class="doc"><p>Perform activities before the individual particles are processed.
 @remarks
 This function is called before the ParticleTechnique update-loop where all particles are traversed.
 the preProcess is typically used to perform calculations where the result must be used in
 processing each individual particle.</p></div></div><div class="platform platform-documentation"><a name="_prepare"></a><h3><p><code><span class="keyword">function</span> <a href="#_prepare"><span class="identifier">_prepare</span></a>(particleTechnique:<a class="type" href="../../../../org/angle3d/particles/ParticleTechnique.html">ParticleTechnique</a>):<span class="type">Void</span></code></p></h3><div class="doc"><p>Perform initialisation actions.
 @remarks
 The _prepare() function is automatically called during initialisation (prepare) activities of a
 ParticleTechnique. A subclass could implement this function to perform initialisation
 actions.</p></div></div><div class="platform platform-documentation"><a name="_processParticle"></a><h3><p><code><span class="keyword">function</span> <a href="#_processParticle"><span class="identifier">_processParticle</span></a>(technique:<a class="type" href="../../../../org/angle3d/particles/ParticleTechnique.html">ParticleTechnique</a>, particle:<a class="type" href="../../../../org/angle3d/particles/Particle.html">Particle</a>, timeElapsed:<span class="type">Float</span>, firstParticle:<span class="type">Bool</span>):<span class="type">Void</span></code></p></h3><div class="doc"><p>在affect之前调用，这里判断粒子是否需要执行affect</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>particle</td><td><p>Pointer to a ParticleTechnique to which the particle belongs.</p></td></tr><tr><td>particle</td><td><p>Pointer to a Particle.</p></td></tr><tr><td>timeElapsed</td><td><p>The number of seconds which have elapsed since the last call.</p></td></tr><tr><td>firstParticle</td><td><p>Determines whether the ParticleAffector encounters the first particle of all active particles.</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="_unprepare"></a><h3><p><code><span class="keyword">function</span> <a href="#_unprepare"><span class="identifier">_unprepare</span></a>(particleTechnique:<a class="type" href="../../../../org/angle3d/particles/ParticleTechnique.html">ParticleTechnique</a>):<span class="type">Void</span></code></p></h3><div class="doc"><p>Reverse the actions from the _prepare.</p></div></div><div class="platform platform-documentation"><a name="addEmitterToExclude"></a><h3><p><code><span class="keyword">function</span> <a href="#addEmitterToExclude"><span class="identifier">addEmitterToExclude</span></a>(emitterName:<span class="type">String</span>):<span class="type">Void</span></code></p></h3><div class="doc"><p>Add a ParticleEmitter name that excludes Particles emitted by this ParticleEmitter from being
 affected.</p></div></div><div class="platform platform-documentation"><a name="affect"></a><h3><p><code><span class="keyword">function</span> <a href="#affect"><span class="identifier">affect</span></a>(technique:<a class="type" href="../../../../org/angle3d/particles/ParticleTechnique.html">ParticleTechnique</a>, particle:<a class="type" href="../../../../org/angle3d/particles/Particle.html">Particle</a>, timeElapsed:<span class="type">Float</span>):<span class="type">Void</span></code></p></h3><div class="doc"><p>Affect a particle.</p></div></div><div class="platform platform-documentation"><a name="copyAttributesTo"></a><h3><p><code><span class="keyword">function</span> <a href="#copyAttributesTo"><span class="identifier">copyAttributesTo</span></a>(affector:<a class="type" href="../../../../org/angle3d/particles/affectors/ParticleAffector.html">ParticleAffector</a>):<span class="type">Void</span></code></p></h3><div class="doc"><p>Copy attributes to another affector.</p></div></div><div class="platform platform-documentation"><a name="copyParentAttributesTo"></a><h3><p><code><span class="keyword">function</span> <a href="#copyParentAttributesTo"><span class="identifier">copyParentAttributesTo</span></a>(affector:<a class="type" href="../../../../org/angle3d/particles/affectors/ParticleAffector.html">ParticleAffector</a>):<span class="type">Void</span></code></p></h3><div class="doc"><p>Copy parent attributes to another affector.</p></div></div><div class="platform platform-documentation"><a name="getAffectSpecialisation"></a><h3><p><code><span class="keyword">function</span> <a href="#getAffectSpecialisation"><span class="identifier">getAffectSpecialisation</span></a>():<span class="type">Int</span></code></p></h3><div class="doc"><p></p></div></div><div class="platform platform-documentation"><a name="getDerivedPosition"></a><h3><p><code><span class="keyword">function</span> <a href="#getDerivedPosition"><span class="identifier">getDerivedPosition</span></a>():<a class="type" href="../../../../org/angle3d/math/Vector3f.html">Vector3f</a></code></p></h3><div class="doc"><p>Calculate the derived position of the affector.
 @remarks
 Note, that in script, the position is set as localspace, while if the affector is
 emitted, its position is automatically transformed. This function always returns
 the derived position.</p></div></div><div class="platform platform-documentation"><a name="getEmittersToExclude"></a><h3><p><code><span class="keyword">function</span> <a href="#getEmittersToExclude"><span class="identifier">getEmittersToExclude</span></a>():<span class="type">Vector</span>&lt;<span class="type">String</span>&gt;</code></p></h3><div class="doc"><p>Return the list with emitters to exclude.</p></div></div><div class="platform platform-documentation"><a name="hasEmitterToExclude"></a><h3><p><code><span class="keyword">function</span> <a href="#hasEmitterToExclude"><span class="identifier">hasEmitterToExclude</span></a>(emitterName:<span class="type">String</span>):<span class="type">Bool</span></code></p></h3><div class="doc"><p>Returns true if the list with excluded emitters contains a given name.</p></div></div><div class="platform platform-documentation"><a name="removeAllEmittersToExclude"></a><h3><p><code><span class="keyword">function</span> <a href="#removeAllEmittersToExclude"><span class="identifier">removeAllEmittersToExclude</span></a>():<span class="type">Void</span></code></p></h3><div class="doc"><p>Remove all ParticleEmitter names that excludes Particles emitted by this ParticleEmitter.</p></div></div><div class="platform platform-documentation"><a name="removeEmitterToExclude"></a><h3><p><code><span class="keyword">function</span> <a href="#removeEmitterToExclude"><span class="identifier">removeEmitterToExclude</span></a>(emitterName:<span class="type">String</span>):<span class="type">Void</span></code></p></h3><div class="doc"><p>Remove a ParticleEmitter name that excludes Particles emitted by this ParticleEmitter.</p></div></div><div class="platform platform-documentation"><a name="setAffectSpecialisation"></a><h3><p><code><span class="keyword">function</span> <a href="#setAffectSpecialisation"><span class="identifier">setAffectSpecialisation</span></a>(value:<span class="type">Int</span>):<span class="type">Void</span></code></p></h3><div class="doc"><p></p></div></div></div></div></div></body></html>