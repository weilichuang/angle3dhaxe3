<!DOCTYPE html>
<html lang="en"><head><meta charset="utf-8"/><link href="../../../../bootstrap-combined.min.css" rel="stylesheet" /><script type="text/javascript" src="../../../../jquery-1.9.1.min.js"></script><script type="text/javascript" src="../../../../bootstrap.min.js"></script><link href="../../../../styles.css" rel="stylesheet" /><link rel="icon" href="../../../../favicon.ico" type="image/x-icon"></link><script type="text/javascript" src="../../../../nav.js"></script><script type="text/javascript" src="../../../../index.js"></script><script type="text/javascript">var dox = {rootPath: "../../../../",platforms: ["documentation"]};</script><title>LODGeomap - Angle3D</title></head><body><div class="navbar navbar-inverse navbar-fixed-top"><div class="navbar-inner"><form class="navbar-search pull-left" id="searchForm"><input id="search" type="text" class="search-query" placeholder="Filter" autocomplete="off"/></form><ul class="nav"><li id="select-platform" class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown">Platform<b class="caret"></b></a><ul class="dropdown-menu"><li data="all"><a href="#">All Platforms</a></li><li data="documentation"><a href="#">documentation</a></li></ul></li></ul></div></div><div id="container"><div id="nav"></div><div id="content"><div class="header"><h1><code><span class="directive">class </span><span class="type">org.angle3d.terrain.geomipmap.LODGeomap</span><span class="keyword"> extends</span> <a class="type" href="../../../../org/angle3d/terrain/GeoMap.html">GeoMap</a></code></h1></div><div class="body"><p class="availability">Available on all platforms</p><div class="doc"><p>Produces the mesh for the TerrainPatch.
This LOD algorithm generates a single triangle strip by first building the center of the
mesh, minus one outer edge around it. Then it builds the edges in counter-clockwise order,
starting at the bottom right and working up, then left across the top, then down across the
left, then right across the bottom.
It needs to know what its neighbour's LOD's are so it can stitch the edges.
It creates degenerate polygons in order to keep the winding order of the polygons and to move
the strip to a new position while still maintaining the continuity of the overall mesh. These
degenerates are removed quickly by the video card.</p>
<p>@author Brent Owens</p></div><h2>Class Fields</h2><div class="platform platform-documentation"><a name="calculateTangent"></a><h3><p><code><span class="keyword">static </span><span class="keyword">function</span> <a href="#calculateTangent"><span class="identifier">calculateTangent</span></a>(v:<span class="type">Array</span>&lt;<a class="type" href="../../../../org/angle3d/math/Vector3f.html">Vector3f</a>&gt;, t:<span class="type">Array</span>&lt;<a class="type" href="../../../../org/angle3d/math/Vector2f.html">Vector2f</a>&gt;, tangent:<a class="type" href="../../../../org/angle3d/math/Vector3f.html">Vector3f</a>, binormal:<a class="type" href="../../../../org/angle3d/math/Vector3f.html">Vector3f</a>):<a class="type" href="../../../../org/angle3d/math/Vector3f.html">Vector3f</a></code></p></h3><div class="doc"><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>v</td><td><p>Takes 3 vertices: root, right, bottom</p></td></tr><tr><td>t</td><td><p>Takes 3 tex coords: root, right, bottom</p></td></tr><tr><td>tangent</td><td><p>that will store the result</p></td></tr><tr><td>returns</td><td><p>the tangent store</p></td></tr></tbody></table></div></div><h2>Instance Fields</h2><div class="platform platform-documentation"><a name="new"></a><h3><p><code><span class="keyword">function</span> <a href="#new"><span class="identifier">new</span></a>(heightData:<span class="type">Vector</span>&lt;<span class="type">Float</span>&gt;, width:<span class="type">Int</span>, height:<span class="type">Int</span>, ?maxval:<span class="type">Int</span>):<span class="type">Void</span></code></p></h3><div class="doc"><p></p></div></div><div class="platform platform-documentation"><a name="createLodMesh"></a><h3><p><code><span class="keyword">function</span> <a href="#createLodMesh"><span class="identifier">createLodMesh</span></a>(scale:<a class="type" href="../../../../org/angle3d/math/Vector3f.html">Vector3f</a>, tcScale:<a class="type" href="../../../../org/angle3d/math/Vector2f.html">Vector2f</a>, tcOffset:<a class="type" href="../../../../org/angle3d/math/Vector2f.html">Vector2f</a>, offsetAmount:<span class="type">Float</span>, totalSize:<span class="type">Int</span>, center:<span class="type">Bool</span>, ?lod:<span class="type">Int</span>, ?rightLod:<span class="type">Bool</span>, ?topLod:<span class="type">Bool</span>, ?leftLod:<span class="type">Bool</span>, ?bottomLod:<span class="type">Bool</span>):<a class="type" href="../../../../org/angle3d/scene/mesh/Mesh.html">Mesh</a></code></p></h3><div class="doc"><p></p></div></div><div class="platform platform-documentation"><a name="findClosestHeightIndex"></a><h3><p><code><span class="keyword">function</span> <a href="#findClosestHeightIndex"><span class="identifier">findClosestHeightIndex</span></a>(x:<span class="type">Int</span>, z:<span class="type">Int</span>):<span class="type">Int</span></code></p></h3><div class="doc"><p></p></div></div><div class="platform platform-documentation"><a name="getGridTrianglesAtPoint"></a><h3><p><code><span class="keyword">function</span> <a href="#getGridTrianglesAtPoint"><span class="identifier">getGridTrianglesAtPoint</span></a>(x:<span class="type">Float</span>, z:<span class="type">Float</span>):<span class="type">Array</span>&lt;<a class="type" href="../../../../org/angle3d/math/Triangle.html">Triangle</a>&gt;</code></p></h3><div class="doc"><p>Get the two triangles that make up the grid section at the specified point.</p>
<p>For every grid space there are two triangles oriented like this:
 <em>----</em>
 |a / |
 | / b|
 <em>----</em>
The corners of the mesh have differently oriented triangles. The two
corners that we have to special-case are the top left and bottom right
corners. They are oriented inversely:
 <em>----</em>
 | \ b|
 |a \ |
 <em>----</em></p>
<p>@return</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>x</td><td><p>local x coordinate</p></td></tr><tr><td>z</td><td><p>local z coordinate</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="getGridTrianglesAtPointScaleAndTranslation"></a><h3><p><code><span class="keyword">function</span> <a href="#getGridTrianglesAtPointScaleAndTranslation"><span class="identifier">getGridTrianglesAtPointScaleAndTranslation</span></a>(x:<span class="type">Float</span>, z:<span class="type">Float</span>, scale:<a class="type" href="../../../../org/angle3d/math/Vector3f.html">Vector3f</a>, translation:<a class="type" href="../../../../org/angle3d/math/Vector3f.html">Vector3f</a>):<span class="type">Array</span>&lt;<a class="type" href="../../../../org/angle3d/math/Triangle.html">Triangle</a>&gt;</code></p></h3><div class="doc"><p>Get the two triangles that make up the grid section at the specified point,
translated to world coordinates.</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>x</td><td><p>local x coordinate</p></td></tr><tr><td>z</td><td><p>local z coordinate</p></td></tr><tr><td>scale</td><td></td></tr><tr><td>translation</td><td></td></tr><tr><td>returns</td><td><p>two triangles in world space not local space</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="getHeightXZ"></a><h3><p><code><span class="keyword">function</span> <a href="#getHeightXZ"><span class="identifier">getHeightXZ</span></a>(x:<span class="type">Float</span>, z:<span class="type">Float</span>, xm:<span class="type">Float</span>, zm:<span class="type">Float</span>):<span class="type">Float</span></code></p></h3><div class="doc"><p>Get the two triangles that make up the grid section at the specified point.</p>
<p>For every grid space there are two triangles oriented like this:
 <em>----</em>
 |a / |
 | / b|
 <em>----</em>
The corners of the mesh have differently oriented triangles. The two
corners that we have to special-case are the top left and bottom right
corners. They are oriented inversely:
 <em>----</em>
 | \ b|
 |a \ |
 *----</p></div></div><div class="platform platform-documentation"><a name="getLodUV"></a><h3><p><code><span class="keyword">function</span> <a href="#getLodUV"><span class="identifier">getLodUV</span></a>(x:<span class="type">Int</span>, y:<span class="type">Int</span>, store:<a class="type" href="../../../../org/angle3d/math/Vector2f.html">Vector2f</a>, offset:<a class="type" href="../../../../org/angle3d/math/Vector2f.html">Vector2f</a>, offsetAmount:<span class="type">Float</span>, totalSize:<span class="type">Int</span>):<a class="type" href="../../../../org/angle3d/math/Vector2f.html">Vector2f</a></code></p></h3><div class="doc"><p></p></div></div><div class="platform platform-documentation"><a name="getNormal"></a><h3><p><code><span class="keyword">function</span> <a href="#getNormal"><span class="identifier">getNormal</span></a>(firstPoint:<a class="type" href="../../../../org/angle3d/math/Vector3f.html">Vector3f</a>, rootPoint:<a class="type" href="../../../../org/angle3d/math/Vector3f.html">Vector3f</a>, secondPoint:<a class="type" href="../../../../org/angle3d/math/Vector3f.html">Vector3f</a>, scale:<a class="type" href="../../../../org/angle3d/math/Vector3f.html">Vector3f</a>, store:<a class="type" href="../../../../org/angle3d/math/Vector3f.html">Vector3f</a>):<a class="type" href="../../../../org/angle3d/math/Vector3f.html">Vector3f</a></code></p></h3><div class="doc"><p></p></div></div><div class="platform platform-documentation"><a name="getTriangleAtPoint"></a><h3><p><code><span class="keyword">function</span> <a href="#getTriangleAtPoint"><span class="identifier">getTriangleAtPoint</span></a>(x:<span class="type">Float</span>, z:<span class="type">Float</span>):<a class="type" href="../../../../org/angle3d/math/Triangle.html">Triangle</a></code></p></h3><div class="doc"><p>Get the triangle that the point is on.</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>x</td><td><p>coordinate in local space to the geomap</p></td></tr><tr><td>z</td><td><p>coordinate in local space to the geomap</p></td></tr><tr><td>returns</td><td><p>triangle in local space to the geomap</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="getTriangleAtPointScaleAndTranslation"></a><h3><p><code><span class="keyword">function</span> <a href="#getTriangleAtPointScaleAndTranslation"><span class="identifier">getTriangleAtPointScaleAndTranslation</span></a>(x:<span class="type">Float</span>, z:<span class="type">Float</span>, scale:<a class="type" href="../../../../org/angle3d/math/Vector3f.html">Vector3f</a>, translation:<a class="type" href="../../../../org/angle3d/math/Vector3f.html">Vector3f</a>):<a class="type" href="../../../../org/angle3d/math/Triangle.html">Triangle</a></code></p></h3><div class="doc"><p>Get a representation of the underlying triangle at the given point,
translated to world coordinates.</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>x</td><td><p>local x coordinate</p></td></tr><tr><td>z</td><td><p>local z coordinate</p></td></tr><tr><td>returns</td><td><p>a triangle in world space not local space</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="writeIndexArrayLodDiff"></a><h3><p><code><span class="keyword">function</span> <a href="#writeIndexArrayLodDiff"><span class="identifier">writeIndexArrayLodDiff</span></a>(lod:<span class="type">Int</span>, rightLod:<span class="type">Bool</span>, topLod:<span class="type">Bool</span>, leftLod:<span class="type">Bool</span>, bottomLod:<span class="type">Bool</span>, totalSize:<span class="type">Int</span>):<span class="type">Vector</span>&lt;<span class="type">UInt</span>&gt;</code></p></h3><div class="doc"><p>Create the LOD index array that will seam its edges with its neighbour's LOD.
This is a scary method!!! It will break your mind.</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>store</td><td><p>to store the index buffer</p></td></tr><tr><td>lod</td><td><p>level of detail of the mesh</p></td></tr><tr><td>rightLod</td><td><p>LOD of the right neighbour</p></td></tr><tr><td>topLod</td><td><p>LOD of the top neighbour</p></td></tr><tr><td>leftLod</td><td><p>LOD of the left neighbour</p></td></tr><tr><td>bottomLod</td><td><p>LOD of the bottom neighbour</p></td></tr><tr><td>returns</td><td><p>the LOD-ified index buffer</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="writeIndexArrayLodVariable"></a><h3><p><code><span class="keyword">function</span> <a href="#writeIndexArrayLodVariable"><span class="identifier">writeIndexArrayLodVariable</span></a>(lod:<span class="type">Int</span>, rightLod:<span class="type">Int</span>, topLod:<span class="type">Int</span>, leftLod:<span class="type">Int</span>, bottomLod:<span class="type">Int</span>, totalSize:<span class="type">Int</span>):<span class="type">Vector</span>&lt;<span class="type">UInt</span>&gt;</code></p></h3><div class="doc"><p></p></div></div><div class="platform platform-documentation"><a name="writeLodTexCoordArray"></a><h3><p><code><span class="keyword">function</span> <a href="#writeLodTexCoordArray"><span class="identifier">writeLodTexCoordArray</span></a>(store:<span class="type">Vector</span>&lt;<span class="type">Float</span>&gt;, offset:<a class="type" href="../../../../org/angle3d/math/Vector2f.html">Vector2f</a>, scale:<a class="type" href="../../../../org/angle3d/math/Vector2f.html">Vector2f</a>, offsetAmount:<span class="type">Float</span>, totalSize:<span class="type">Int</span>):<span class="type">Vector</span>&lt;<span class="type">Float</span>&gt;</code></p></h3><div class="doc"><p></p></div></div><div class="platform platform-documentation"><a name="writeNormalArray"></a><h3><p><code><span class="keyword">function</span> <a href="#writeNormalArray"><span class="identifier">writeNormalArray</span></a>(store:<span class="type">Vector</span>&lt;<span class="type">Float</span>&gt;, scale:<a class="type" href="../../../../org/angle3d/math/Vector3f.html">Vector3f</a>):<span class="type">Vector</span>&lt;<span class="type">Float</span>&gt;</code></p></h3><div class="doc"><p></p></div></div><div class="platform platform-documentation"><a name="writeTangentArray"></a><h3><p><code><span class="keyword">function</span> <a href="#writeTangentArray"><span class="identifier">writeTangentArray</span></a>(normalBuffer:<span class="type">Vector</span>&lt;<span class="type">Float</span>&gt;, tangentStore:<span class="type">Vector</span>&lt;<span class="type">Float</span>&gt;, binormalStore:<span class="type">Vector</span>&lt;<span class="type">Float</span>&gt;, textureBuffer:<span class="type">Vector</span>&lt;<span class="type">Float</span>&gt;, scale:<a class="type" href="../../../../org/angle3d/math/Vector3f.html">Vector3f</a>):<span class="type">Array</span>&lt;<span class="type">Vector</span>&lt;<span class="type">Float</span>&gt;&gt;</code></p></h3><div class="doc"><p></p></div></div></div></div></div></body></html>