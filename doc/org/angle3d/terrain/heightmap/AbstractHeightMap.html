<!DOCTYPE html>
<html lang="en"><head><meta charset="utf-8"/><link href="../../../../bootstrap-combined.min.css" rel="stylesheet" /><script type="text/javascript" src="../../../../jquery-1.9.1.min.js"></script><script type="text/javascript" src="../../../../bootstrap.min.js"></script><link href="../../../../styles.css" rel="stylesheet" /><link rel="icon" href="../../../../favicon.ico" type="image/x-icon"></link><script type="text/javascript" src="../../../../nav.js"></script><script type="text/javascript" src="../../../../index.js"></script><script type="text/javascript">var dox = {rootPath: "../../../../",platforms: ["documentation"]};</script><title>AbstractHeightMap - Angle3D</title></head><body><div class="navbar navbar-inverse navbar-fixed-top"><div class="navbar-inner"><form class="navbar-search pull-left" id="searchForm"><input id="search" type="text" class="search-query" placeholder="Filter" autocomplete="off"/></form><ul class="nav"><li id="select-platform" class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown">Platform<b class="caret"></b></a><ul class="dropdown-menu"><li data="all"><a href="#">All Platforms</a></li><li data="documentation"><a href="#">documentation</a></li></ul></li></ul></div></div><div id="container"><div id="nav"></div><div id="content"><div class="header"><h1><code><span class="directive">class </span><span class="type">org.angle3d.terrain.heightmap.AbstractHeightMap</span><span class="keyword"> implements</span> <a class="type" href="../../../../org/angle3d/terrain/heightmap/HeightMap.html">HeightMap</a></code></h1></div><div class="body"><p class="availability">Available on all platforms</p><div><table class="related-types toggle" style="margin-top:16px;"><tbody><tr><td colspan="2"><strong>Sub classes</strong></td></tr><tr><td width="12" style="vertical-align:top;"><a href="#" onclick="toggleInherited(this)"><img style="padding-top:4px;" src="../../../../triangle-closed.png"></img></a></td><td class="toggle-hide"><a href="../../../../org/angle3d/terrain/geomipmap/grid/FloatBufferHeightMap.html">FloatBufferHeightMap</a>, <a href="../../../../org/angle3d/terrain/heightmap/CombinerHeightMap.html">CombinerHeightMap</a>, <a href="../../../../org/angle3d/terrain/heightmap/FaultHeightMap.html">FaultHeightMap</a>, <a href="../../../../org/angle3d/terrain/heightmap/FluidSimHeightMap.html">FluidSimHeightMap</a>, <a href="../../../../org/angle3d/terrain/heightmap/HillHeightMap.html">HillHeightMap</a>, <a href="../../../../org/angle3d/terrain/heightmap/ImageBasedHeightMap.html">ImageBasedHeightMap</a>, <a href="../../../../org/angle3d/terrain/heightmap/MidpointDisplacementHeightMap.html">MidpointDisplacementHeightMap</a>, <a href="../../../../org/angle3d/terrain/heightmap/ParticleDepositionHeightMap.html">ParticleDepositionHeightMap</a></td><td class="toggle-show"><table class="table table-condensed"><tbody><tr><td width="200"><a href="../../../../org/angle3d/terrain/geomipmap/grid/FloatBufferHeightMap.html">FloatBufferHeightMap</a></td><td><p></p></td></tr><tr><td width="200"><a href="../../../../org/angle3d/terrain/heightmap/CombinerHeightMap.html">CombinerHeightMap</a></td><td><p><code><a href="../../../../org/angle3d/terrain/heightmap/CombinerHeightMap.html">CombinerHeightMap</a></code> generates a new height map based on
two provided height maps. These had maps can either be added together
or substracted from each other. Each heightmap has a weight to
determine how much one will affect the other. By default it is set to
0.5, 0.5 and meaning the two heightmaps are averaged evenly. This
value can be adjusted at will, as long as the two factors are equal
to 1.0.</p></td></tr><tr><td width="200"><a href="../../../../org/angle3d/terrain/heightmap/FaultHeightMap.html">FaultHeightMap</a></td><td><p>Creates an heightmap based on the fault algorithm. Each iteration, a random line
crossing the map is generated. On one side height values are raised, on the other side
lowered.</p></td></tr><tr><td width="200"><a href="../../../../org/angle3d/terrain/heightmap/FluidSimHeightMap.html">FluidSimHeightMap</a></td><td><p><code><a href="../../../../org/angle3d/terrain/heightmap/FluidSimHeightMap.html">FluidSimHeightMap</a></code> generates a height map based using some
sort of fluid simulation. The heightmap is treated as a highly viscous and
rubbery fluid enabling to fine tune the generated heightmap using a number
of parameters.</p></td></tr><tr><td width="200"><a href="../../../../org/angle3d/terrain/heightmap/HillHeightMap.html">HillHeightMap</a></td><td><p><code><a href="../../../../org/angle3d/terrain/heightmap/HillHeightMap.html">HillHeightMap</a></code> generates a height map base on the Hill
Algorithm. Terrain is generatd by growing hills of random size and height at
random points in the heightmap. The terrain is then normalized and valleys
can be flattened.</p></td></tr><tr><td width="200"><a href="../../../../org/angle3d/terrain/heightmap/ImageBasedHeightMap.html">ImageBasedHeightMap</a></td><td><p><code><a href="../../../../org/angle3d/terrain/heightmap/ImageBasedHeightMap.html">ImageBasedHeightMap</a></code> is a height map created from the grayscale
conversion of an image. The image used currently must have an equal height
and width, although future work could scale an incoming image to a specific
height and width.</p></td></tr><tr><td width="200"><a href="../../../../org/angle3d/terrain/heightmap/MidpointDisplacementHeightMap.html">MidpointDisplacementHeightMap</a></td><td><p><code><a href="../../../../org/angle3d/terrain/heightmap/MidpointDisplacementHeightMap.html">MidpointDisplacementHeightMap</a></code> generates an heightmap based on
the midpoint displacement algorithm.</p></td></tr><tr><td width="200"><a href="../../../../org/angle3d/terrain/heightmap/ParticleDepositionHeightMap.html">ParticleDepositionHeightMap</a></td><td><p><code><a href="../../../../org/angle3d/terrain/heightmap/ParticleDepositionHeightMap.html">ParticleDepositionHeightMap</a></code> creates a heightmap based on the
Particle Deposition algorithm based on Jason Shankel's paper from
"Game Programming Gems". A heightmap is created using a Molecular beam
epitaxy, or MBE, for depositing thin layers of atoms on a substrate.
We drop a sequence of particles and simulate their flow across a surface
of previously dropped particles. This creates a few high peaks, for further
realism we can define a caldera. Similar to the way volcano's form
islands, rock is deposited via lava, when the lava cools, it recedes
into the volcano, creating the caldera.</p></td></tr></tbody></table></td></tr></tbody></table></div><div class="doc"><p><code><a href="../../../../org/angle3d/terrain/heightmap/AbstractHeightMap.html">AbstractHeightMap</a></code> provides a base implementation of height
data for terrain rendering. The loading of the data is dependent on the
subclass. The abstract implementation provides a means to retrieve the height
data and to save it.</p>
<p>It is the general contract that any subclass provide a means of editing
required attributes and calling <code>load</code> again to recreate a
heightfield with these new parameters.</p></div><h2>Class Fields</h2><div class="platform platform-documentation"><a name="NORMALIZE_RANGE"></a><h3><p><code><span class="keyword">static </span><span class="keyword">var</span> <a href="#NORMALIZE_RANGE"><span class="identifier">NORMALIZE_RANGE</span></a>:<span class="type">Float</span></code></p></h3><div class="doc"><p>The range used to normalize terrain</p></div></div><h2>Instance Fields</h2><div class="platform platform-documentation"><a name="new"></a><h3><p><code><span class="keyword">function</span> <a href="#new"><span class="identifier">new</span></a>():<span class="type">Void</span></code></p></h3><div class="doc"><p></p></div></div><div class="platform platform-documentation"><a name="erodeTerrain"></a><h3><p><code><span class="keyword">function</span> <a href="#erodeTerrain"><span class="identifier">erodeTerrain</span></a>():<span class="type">Void</span></code></p></h3><div class="doc"><p><code>erodeTerrain</code> is a convenience method that applies the FIR
filter to a given height map. This simulates water errosion.</p>
<p>@see setFilter</p></div></div><div class="platform platform-documentation"><a name="findMinMaxHeights"></a><h3><p><code><span class="keyword">function</span> <a href="#findMinMaxHeights"><span class="identifier">findMinMaxHeights</span></a>():<span class="type">Vector</span>&lt;<span class="type">Float</span>&gt;</code></p></h3><div class="doc"><p>Find the minimum and maximum height values.</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>returns</td><td><p>a float array with two value: min height, max height</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="flatten"></a><h3><p><code><span class="keyword">function</span> <a href="#flatten"><span class="identifier">flatten</span></a>(flattening:<span class="type">Int</span>):<span class="type">Void</span></code></p></h3><div class="doc"><p>Flattens out the valleys. The flatten algorithm makes the valleys more
prominent while keeping the hills mostly intact. This effect is based on
what happens when values below one are squared. The terrain will be
normalized between 0 and 1 for this function to work.</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>flattening</td><td><p>the power of flattening applied, 1 means none</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="getHeightMap"></a><h3><p><code><span class="keyword">function</span> <a href="#getHeightMap"><span class="identifier">getHeightMap</span></a>():<span class="type">Vector</span>&lt;<span class="type">Float</span>&gt;</code></p></h3><div class="doc"><p><code>getHeightMap</code> returns the entire grid of height data.</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>returns</td><td><p>the grid of height data.</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="getInterpolatedHeight"></a><h3><p><code><span class="keyword">function</span> <a href="#getInterpolatedHeight"><span class="identifier">getInterpolatedHeight</span></a>(x:<span class="type">Float</span>, z:<span class="type">Float</span>):<span class="type">Float</span></code></p></h3><div class="doc"><p><code>getInterpolatedHeight</code> returns the height of a point that
does not fall directly on the height posts.</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>x</td><td><p>the x coordinate of the point.</p></td></tr><tr><td>z</td><td><p>the y coordinate of the point.</p></td></tr><tr><td>returns</td><td><p>the interpolated height at this point.</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="getScaledHeightAtPoint"></a><h3><p><code><span class="keyword">function</span> <a href="#getScaledHeightAtPoint"><span class="identifier">getScaledHeightAtPoint</span></a>(x:<span class="type">Int</span>, z:<span class="type">Int</span>):<span class="type">Float</span></code></p></h3><div class="doc"><p><code>getScaledHeightAtPoint</code> returns the scaled value at the
point provided.</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>x</td><td><p>the x (east/west) coordinate.</p></td></tr><tr><td>z</td><td><p>the z (north/south) coordinate.</p></td></tr><tr><td>returns</td><td><p>the scaled value at (x, z).</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="getScaledHeightMap"></a><h3><p><code><span class="keyword">function</span> <a href="#getScaledHeightMap"><span class="identifier">getScaledHeightMap</span></a>():<span class="type">Vector</span>&lt;<span class="type">Float</span>&gt;</code></p></h3><div class="doc"><p>Build a new array of height data with the scaled values.
@return</p></div></div><div class="platform platform-documentation"><a name="getSize"></a><h3><p><code><span class="keyword">function</span> <a href="#getSize"><span class="identifier">getSize</span></a>():<span class="type">Int</span></code></p></h3><div class="doc"><p><code>getSize</code> returns the size of one side the height map. Where
the area of the height map is size x size.</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>returns</td><td><p>the size of a single side.</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="getTrueHeightAtPoint"></a><h3><p><code><span class="keyword">function</span> <a href="#getTrueHeightAtPoint"><span class="identifier">getTrueHeightAtPoint</span></a>(x:<span class="type">Int</span>, z:<span class="type">Int</span>):<span class="type">Float</span></code></p></h3><div class="doc"><p><code>getTrueHeightAtPoint</code> returns the non-scaled value at the
point provided.</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>x</td><td><p>the x (east/west) coordinate.</p></td></tr><tr><td>z</td><td><p>the z (north/south) coordinate.</p></td></tr><tr><td>returns</td><td><p>the value at (x,z).</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="load"></a><h3><p><code><span class="keyword">function</span> <a href="#load"><span class="identifier">load</span></a>():<span class="type">Bool</span></code></p></h3><div class="doc"><p></p></div></div><div class="platform platform-documentation"><a name="normalizeTerrain"></a><h3><p><code><span class="keyword">function</span> <a href="#normalizeTerrain"><span class="identifier">normalizeTerrain</span></a>(value:<span class="type">Float</span>):<span class="type">Void</span></code></p></h3><div class="doc"><p><code>normalizeTerrain</code> takes the current terrain data and
converts it to values between 0 and <code>value</code>.</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>value</td><td><p>the value to normalize to.</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="setHeightAtPoint"></a><h3><p><code><span class="keyword">function</span> <a href="#setHeightAtPoint"><span class="identifier">setHeightAtPoint</span></a>(height:<span class="type">Float</span>, x:<span class="type">Int</span>, z:<span class="type">Int</span>):<span class="type">Void</span></code></p></h3><div class="doc"><p><code>setHeightAtPoint</code> sets the height value for a given
coordinate. It is recommended that the height value be within the 0 - 255
range.</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>height</td><td><p>the new height for the coordinate.</p></td></tr><tr><td>x</td><td><p>the x (east/west) coordinate.</p></td></tr><tr><td>z</td><td><p>the z (north/south) coordinate.</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="setHeightScale"></a><h3><p><code><span class="keyword">function</span> <a href="#setHeightScale"><span class="identifier">setHeightScale</span></a>(scale:<span class="type">Float</span>):<span class="type">Void</span></code></p></h3><div class="doc"><p><code>setHeightScale</code> sets the scale of the height values.
Typically, the height is a little too extreme and should be scaled to a
smaller value (i.e. 0.25), to produce cleaner slopes.</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>scale</td><td><p>the scale to multiply height values by.</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="setMagnificationFilter"></a><h3><p><code><span class="keyword">function</span> <a href="#setMagnificationFilter"><span class="identifier">setMagnificationFilter</span></a>(filter:<span class="type">Float</span>):<span class="type">Void</span></code></p></h3><div class="doc"><p><code>setFilter</code> sets the erosion value for the filter. This
value must be between 0 and 1, where 0.2 - 0.4 produces arguably the best
results.</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>filter</td><td><p>the erosion value.</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="setSize"></a><h3><p><code><span class="keyword">function</span> <a href="#setSize"><span class="identifier">setSize</span></a>(size:<span class="type">Int</span>):<span class="type">Void</span></code></p></h3><div class="doc"><p><code>setSize</code> sets the size of the terrain where the area is
size x size.</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>size</td><td><p>the new size of the terrain.</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="smooth"></a><h3><p><code><span class="keyword">function</span> <a href="#smooth"><span class="identifier">smooth</span></a>(np:<span class="type">Float</span>):<span class="type">Void</span></code></p></h3><div class="doc"><p>Smooth the terrain. For each node, its 8 neighbors heights
are averaged and will participate in the  node new height
by a factor <code>np</code> between 0 and 1</p>
<p>You must first load() the heightmap data before this will have any effect.</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>np</td><td><p>The factor to what extend the neighbors average has an influence.
Value of 0 will ignore neighbors (no smoothing)
Value of 1 will ignore the node old height.</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="smoothWithRadius"></a><h3><p><code><span class="keyword">function</span> <a href="#smoothWithRadius"><span class="identifier">smoothWithRadius</span></a>(np:<span class="type">Float</span>, radius:<span class="type">Int</span>):<span class="type">Void</span></code></p></h3><div class="doc"><p>Smooth the terrain. For each node, its X(determined by radius) neighbors heights
are averaged and will participate in the  node new height
by a factor <code>np</code> between 0 and 1</p>
<p>You must first load() the heightmap data before this will have any effect.</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>np</td><td><p>The factor to what extend the neighbors average has an influence.
Value of 0 will ignore neighbors (no smoothing)
Value of 1 will ignore the node old height.</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="unloadHeightMap"></a><h3><p><code><span class="keyword">function</span> <a href="#unloadHeightMap"><span class="identifier">unloadHeightMap</span></a>():<span class="type">Void</span></code></p></h3><div class="doc"><p><code>unloadHeightMap</code> clears the data of the height map. This
insures it is ready for reloading.</p></div></div></div></div></div></body></html>