<!DOCTYPE html>
<html lang="en"><!-- use theme color or fallback -->
<!--use textcolor from settings, otherwise create a contrasting color to theme color-->
<head><meta charset="utf-8"/><link href="../../../../bootstrap/css/bootstrap.min.css" rel="stylesheet"/><link href="../../../../bootstrap/css/bootstrap-responsive.min.css" rel="stylesheet"/><link href="../../../../bootstrap/css/bootstrap-select.min.css" rel="stylesheet"/><link href="http://fonts.googleapis.com/css?family=Open+Sans:400,700,700italic,400italic" rel="stylesheet" type="text/css"/><link href="http://fonts.googleapis.com/css?family=Source+Sans+Pro:200,600,600italic,400" rel="stylesheet" type="text/css"/><link href="http://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.css" rel="stylesheet" type="text/css"/><script src="../../../../jquery-1.9.1.min.js"></script><script src="../../../../bootstrap/js/bootstrap.min.js"></script><script src="../../../../bootstrap/js/bootstrap-select.min.js"></script><link href="../../../../styles.css" rel="stylesheet"/><link href="../../../../haxe-nav.css" rel="stylesheet"/><script type="text/javascript">var dox = {rootPath: "../../../../",platforms: ["documentation"]};</script><script type="text/javascript" src="../../../../nav.js"></script><script type="text/javascript" src="../../../../index.js"></script><link rel="icon" href="../../../../favicon.ico" type="image/x-icon"></link><title>org.angle3d.terrain.heightmap.FluidSimHeightMap - Angle3D</title><meta name="description" content="&lt;code&gt;&lt;a href="../../../../org/angle3d/terrain/heightmap/FluidSimHeightMap.html"&gt;FluidSimHeightMap&lt;/a&gt;&lt;/code&gt; generates a height map based using some
sort of fluid simulation. The heightmap is treated as a highly viscous and
rubbery fluid enabling to fine tune the generated heightmap using a number
of parameters."/></head><body><style>
.navbar .brand {
	display: inline-block;
	float: none;
	text-shadow: 0 0 0 transparent;
</style><nav class="nav"><div class="navbar"><div class="navbar-inner" style="background:#FAFAFA; border-bottom:1px solid rgba(0,0,0,.09)"><div class="container"><a class="brand" style="color:#000000" href="../../../../">Angle3D</a></div></div></div></nav><div class="container main-content"><div class="row-fluid"><div class="span3"><div class="well sidebar-nav"><form class="form-search" id="searchForm"><div class="input-prepend input-block-level"><span class="add-on"><i class="icon-search"></i></span><input id="search" type="text" placeholder="Search" autocomplete="off"/></div></form></div><div class="well sidebar-nav"><div id="nav"></div></div></div><div class="span9"><div class="page-header"><h1><small>class</small> FluidSimHeightMap</h1><h4><small>package <a href="../../../../org/angle3d/terrain/heightmap/index.html">org.angle3d.terrain.heightmap</a></small></h4><h4><small>extends <a class="type" title="AbstractHeightMap provides a base implementation of height data for terrain rendering." href="../../../../org/angle3d/terrain/heightmap/AbstractHeightMap.html">AbstractHeightMap</a></small></h4>    </div><div class="body"><div class="doc doc-main"><div class="indent"><p><code><a href="../../../../org/angle3d/terrain/heightmap/FluidSimHeightMap.html">FluidSimHeightMap</a></code> generates a height map based using some
sort of fluid simulation. The heightmap is treated as a highly viscous and
rubbery fluid enabling to fine tune the generated heightmap using a number
of parameters.</p><p class="javadoc">See:</p><div class="indent inline-content"><p><a href="http://www.gamedev.net/reference/articles/article2001.asp">http://www.gamedev.net/reference/articles/article2001.asp</a></p></div></div></div><h3 class="section">Constructor</h3><div class="fields"><div class="field "><a name="new"></a><h3><p><code><a href="#new"><span class="identifier">new</span></a> (<span style="white-space:nowrap">size:<span class="type">Int</span>,</span> <span style="white-space:nowrap">iterations:<span class="type">Int</span>,</span> <span style="white-space:nowrap">?minInitialHeight:<span class="type">Float</span>,</span> <span style="white-space:nowrap">?maxInitialHeight:<span class="type">Float</span>,</span> <span style="white-space:nowrap">?viscosity:<span class="type">Float</span>,</span> <span style="white-space:nowrap">?waveSpeed:<span class="type">Float</span>,</span> <span style="white-space:nowrap">?timestep:<span class="type">Float</span>,</span> <span style="white-space:nowrap">?nodeDistance:<span class="type">Float</span>,</span> <span style="white-space:nowrap">?seed:<span class="type">Int</span></span>)</code></p></h3><div class="doc"><p>Constructor sets the attributes of the hill system and generates the
height map. It gets passed a number of tweakable parameters which
fine-tune the outcome.</p><p class="javadoc">Parameters:</p><table class="table table-bordered params"><tr><th width="25%"><code>size</code></th><td><p>size the size of the terrain to be generated</p></td></tr><tr><th width="25%"><code>iterations</code></th><td><p>the number of iterations to do</p></td></tr><tr><th width="25%"><code>minInitialHeight</code></th><td><p>the minimum initial height of a terrain value</p></td></tr><tr><th width="25%"><code>maxInitialHeight</code></th><td><p>the maximum initial height of a terrain value</p></td></tr><tr><th width="25%"><code>viscosity</code></th><td><p>the viscosity of the fluid</p></td></tr><tr><th width="25%"><code>waveSpeed</code></th><td><p>the speed at which the waves travel</p></td></tr><tr><th width="25%"><code>timestep</code></th><td><p>the constant time-step between each iteration</p></td></tr><tr><th width="25%"><code>nodeDistance</code></th><td><p>the distance between each node of the heightmap</p></td></tr><tr><th width="25%"><code>seed</code></th><td><p>the seed to generate the same heightmap again
if size of the terrain is not greater that zero, or number of
iterations is not greater that zero, or the minimum initial height
is greater than the maximum (or the other way around)</p></td></tr></table></div></div></div><h3 class="section">Variables</h3><div class="fields"><div class="field "><a name="coefA"></a><h3><p><code><a href="../../../../org/angle3d/terrain/heightmap/FluidSimHeightMap.html#coefA"><span class="identifier">coefA</span></a>:<span class="type">Float</span></code></p></h3><div class="doc"><p></p></div></div><div class="field "><a name="coefB"></a><h3><p><code><a href="../../../../org/angle3d/terrain/heightmap/FluidSimHeightMap.html#coefB"><span class="identifier">coefB</span></a>:<span class="type">Float</span></code></p></h3><div class="doc"><p></p></div></div><div class="field "><a name="coefC"></a><h3><p><code><a href="../../../../org/angle3d/terrain/heightmap/FluidSimHeightMap.html#coefC"><span class="identifier">coefC</span></a>:<span class="type">Float</span></code></p></h3><div class="doc"><p></p></div></div></div><h3 class="section">Methods</h3><div class="fields"><div class="field "><a name="setIterations"></a><h3><p><code><a href="#setIterations"><span class="identifier">setIterations</span></a> (<span style="white-space:nowrap">iterations:<span class="type">Int</span></span>):<span class="type">Void</span></code></p></h3><div class="doc"><p>Sets the number of times the fluid simulation should be iterated over
the heightmap. The more often this is, the less features (hills, etc)
the terrain will have, and the smoother it will be.</p><p class="javadoc">Parameters:</p><table class="table table-bordered params"><tr><th width="25%"><code>iterations</code></th><td><p>the number of iterations to do</p></td></tr></table></div></div><div class="field "><a name="setMaxInitialHeight"></a><h3><p><code><a href="#setMaxInitialHeight"><span class="identifier">setMaxInitialHeight</span></a> (<span style="white-space:nowrap">maxInitialHeight:<span class="type">Float</span></span>):<span class="type">Void</span></code></p></h3><div class="doc"><p>Sets the maximum initial height of the terrain.</p><p class="javadoc">Parameters:</p><table class="table table-bordered params"><tr><th width="25%"><code>maxInitialHeight</code></th><td><p>the maximum initial height</p></td></tr></table><p class="javadoc">See:</p><div class="indent inline-content"><p>setMinInitialHeight(int)</p></div></div></div><div class="field "><a name="setMinInitialHeight"></a><h3><p><code><a href="#setMinInitialHeight"><span class="identifier">setMinInitialHeight</span></a> (<span style="white-space:nowrap">minInitialHeight:<span class="type">Float</span></span>):<span class="type">Void</span></code></p></h3><div class="doc"><p>Sets the minimum initial height of the terrain.</p><p class="javadoc">Parameters:</p><table class="table table-bordered params"><tr><th width="25%"><code>minInitialHeight</code></th><td><p>the minimum initial height</p></td></tr></table><p class="javadoc">See:</p><div class="indent inline-content"><p>setMaxInitialHeight(int)</p></div></div></div><div class="field "><a name="setNodeDistance"></a><h3><p><code><a href="#setNodeDistance"><span class="identifier">setNodeDistance</span></a> (<span style="white-space:nowrap">nodeDistance:<span class="type">Float</span></span>):<span class="type">Void</span></code></p></h3><div class="doc"><p>Sets the distance between each node of the heightmap.</p><p class="javadoc">Parameters:</p><table class="table table-bordered params"><tr><th width="25%"><code>nodeDistance</code></th><td><p>the distance between each node</p></td></tr></table></div></div><div class="field "><a name="setTimeStep"></a><h3><p><code><a href="#setTimeStep"><span class="identifier">setTimeStep</span></a> (<span style="white-space:nowrap">timeStep:<span class="type">Float</span></span>):<span class="type">Void</span></code></p></h3><div class="doc"><p>Sets the time-speed between each iteration of the fluid
simulation algortithm.</p><p class="javadoc">Parameters:</p><table class="table table-bordered params"><tr><th width="25%"><code>timeStep</code></th><td><p>the time-step between each iteration</p></td></tr></table></div></div><div class="field "><a name="setViscosity"></a><h3><p><code><a href="#setViscosity"><span class="identifier">setViscosity</span></a> (<span style="white-space:nowrap">viscosity:<span class="type">Float</span></span>):<span class="type">Void</span></code></p></h3><div class="doc"><p>Sets the viscosity of the simulated fuid.</p><p class="javadoc">Parameters:</p><table class="table table-bordered params"><tr><th width="25%"><code>viscosity</code></th><td><p>the viscosity of the fluid</p></td></tr></table></div></div><div class="field "><a name="setWaveSpeed"></a><h3><p><code><a href="#setWaveSpeed"><span class="identifier">setWaveSpeed</span></a> (<span style="white-space:nowrap">waveSpeed:<span class="type">Float</span></span>):<span class="type">Void</span></code></p></h3><div class="doc"><p>Sets the speed at which the waves trave.</p><p class="javadoc">Parameters:</p><table class="table table-bordered params"><tr><th width="25%"><code>waveSpeed</code></th><td><p>the speed at which the waves travel</p></td></tr></table></div></div></div>  <div class="inherited-fields well"><h3 class="section">Inherited Variables</h3><div class="fields"><div style="display:none"></div></div><h3 class="section">Inherited Methods</h3><div class="fields"><h4><a href="#" class="expand-button"><i class="fa fa-arrow-circle-o-right"></i></a> Defined by <a class="type" title="AbstractHeightMap provides a base implementation of height data for terrain rendering." href="../../../../org/angle3d/terrain/heightmap/AbstractHeightMap.html">AbstractHeightMap</a></h4><div style="display:none"><div class="field "><a name="erodeTerrain"></a><h3><p><code><a href="#erodeTerrain"><span class="identifier">erodeTerrain</span></a> ():<span class="type">Void</span></code></p></h3><div class="doc"><p><code>erodeTerrain</code> is a convenience method that applies the FIR
filter to a given height map. This simulates water errosion.</p><p class="javadoc">See:</p><div class="indent inline-content"><p>setFilter</p></div></div></div><div class="field "><a name="findMinMaxHeights"></a><h3><p><code><a href="#findMinMaxHeights"><span class="identifier">findMinMaxHeights</span></a> ():<span class="type">Vector</span>&lt;<span class="type">Float</span>&gt;</code></p></h3><div class="doc"><p>Find the minimum and maximum height values.</p><p class="javadoc">Returns:</p><div class="indent inline-content"><p>a float array with two value: min height, max height</p></div></div></div><div class="field "><a name="flatten"></a><h3><p><code><a href="#flatten"><span class="identifier">flatten</span></a> (<span style="white-space:nowrap">flattening:<span class="type">Int</span></span>):<span class="type">Void</span></code></p></h3><div class="doc"><p>Flattens out the valleys. The flatten algorithm makes the valleys more
prominent while keeping the hills mostly intact. This effect is based on
what happens when values below one are squared. The terrain will be
normalized between 0 and 1 for this function to work.</p><p class="javadoc">Parameters:</p><table class="table table-bordered params"><tr><th width="25%"><code>flattening</code></th><td><p>the power of flattening applied, 1 means none</p></td></tr></table></div></div><div class="field "><a name="getHeightMap"></a><h3><p><code><a href="#getHeightMap"><span class="identifier">getHeightMap</span></a> ():<span class="type">Vector</span>&lt;<span class="type">Float</span>&gt;</code></p></h3><div class="doc"><p><code>getHeightMap</code> returns the entire grid of height data.</p><p class="javadoc">Returns:</p><div class="indent inline-content"><p>the grid of height data.</p></div></div></div><div class="field "><a name="getInterpolatedHeight"></a><h3><p><code><a href="#getInterpolatedHeight"><span class="identifier">getInterpolatedHeight</span></a> (<span style="white-space:nowrap">x:<span class="type">Float</span>,</span> <span style="white-space:nowrap">z:<span class="type">Float</span></span>):<span class="type">Float</span></code></p></h3><div class="doc"><p><code>getInterpolatedHeight</code> returns the height of a point that
does not fall directly on the height posts.</p><p class="javadoc">Parameters:</p><table class="table table-bordered params"><tr><th width="25%"><code>x</code></th><td><p>the x coordinate of the point.</p></td></tr><tr><th width="25%"><code>z</code></th><td><p>the y coordinate of the point.</p></td></tr></table><p class="javadoc">Returns:</p><div class="indent inline-content"><p>the interpolated height at this point.</p></div></div></div><div class="field "><a name="getScaledHeightAtPoint"></a><h3><p><code><a href="#getScaledHeightAtPoint"><span class="identifier">getScaledHeightAtPoint</span></a> (<span style="white-space:nowrap">x:<span class="type">Int</span>,</span> <span style="white-space:nowrap">z:<span class="type">Int</span></span>):<span class="type">Float</span></code></p></h3><div class="doc"><p><code>getScaledHeightAtPoint</code> returns the scaled value at the
point provided.</p><p class="javadoc">Parameters:</p><table class="table table-bordered params"><tr><th width="25%"><code>x</code></th><td><p>the x (east/west) coordinate.</p></td></tr><tr><th width="25%"><code>z</code></th><td><p>the z (north/south) coordinate.</p></td></tr></table><p class="javadoc">Returns:</p><div class="indent inline-content"><p>the scaled value at (x, z).</p></div></div></div><div class="field "><a name="getScaledHeightMap"></a><h3><p><code><a href="#getScaledHeightMap"><span class="identifier">getScaledHeightMap</span></a> ():<span class="type">Vector</span>&lt;<span class="type">Float</span>&gt;</code></p></h3><div class="doc"><p>Build a new array of height data with the scaled values.
@return</p></div></div><div class="field "><a name="getSize"></a><h3><p><code><a href="#getSize"><span class="identifier">getSize</span></a> ():<span class="type">Int</span></code></p></h3><div class="doc"><p><code>getSize</code> returns the size of one side the height map. Where
the area of the height map is size x size.</p><p class="javadoc">Returns:</p><div class="indent inline-content"><p>the size of a single side.</p></div></div></div><div class="field "><a name="getTrueHeightAtPoint"></a><h3><p><code><a href="#getTrueHeightAtPoint"><span class="identifier">getTrueHeightAtPoint</span></a> (<span style="white-space:nowrap">x:<span class="type">Int</span>,</span> <span style="white-space:nowrap">z:<span class="type">Int</span></span>):<span class="type">Float</span></code></p></h3><div class="doc"><p><code>getTrueHeightAtPoint</code> returns the non-scaled value at the
point provided.</p><p class="javadoc">Parameters:</p><table class="table table-bordered params"><tr><th width="25%"><code>x</code></th><td><p>the x (east/west) coordinate.</p></td></tr><tr><th width="25%"><code>z</code></th><td><p>the z (north/south) coordinate.</p></td></tr></table><p class="javadoc">Returns:</p><div class="indent inline-content"><p>the value at (x,z).</p></div></div></div><div class="field "><a name="normalizeTerrain"></a><h3><p><code><a href="#normalizeTerrain"><span class="identifier">normalizeTerrain</span></a> (<span style="white-space:nowrap">value:<span class="type">Float</span></span>):<span class="type">Void</span></code></p></h3><div class="doc"><p><code>normalizeTerrain</code> takes the current terrain data and
converts it to values between 0 and <code>value</code>.</p><p class="javadoc">Parameters:</p><table class="table table-bordered params"><tr><th width="25%"><code>value</code></th><td><p>the value to normalize to.</p></td></tr></table></div></div><div class="field "><a name="setHeightAtPoint"></a><h3><p><code><a href="#setHeightAtPoint"><span class="identifier">setHeightAtPoint</span></a> (<span style="white-space:nowrap">height:<span class="type">Float</span>,</span> <span style="white-space:nowrap">x:<span class="type">Int</span>,</span> <span style="white-space:nowrap">z:<span class="type">Int</span></span>):<span class="type">Void</span></code></p></h3><div class="doc"><p><code>setHeightAtPoint</code> sets the height value for a given
coordinate. It is recommended that the height value be within the 0 - 255
range.</p><p class="javadoc">Parameters:</p><table class="table table-bordered params"><tr><th width="25%"><code>height</code></th><td><p>the new height for the coordinate.</p></td></tr><tr><th width="25%"><code>x</code></th><td><p>the x (east/west) coordinate.</p></td></tr><tr><th width="25%"><code>z</code></th><td><p>the z (north/south) coordinate.</p></td></tr></table></div></div><div class="field "><a name="setHeightScale"></a><h3><p><code><a href="#setHeightScale"><span class="identifier">setHeightScale</span></a> (<span style="white-space:nowrap">scale:<span class="type">Float</span></span>):<span class="type">Void</span></code></p></h3><div class="doc"><p><code>setHeightScale</code> sets the scale of the height values.
Typically, the height is a little too extreme and should be scaled to a
smaller value (i.e. 0.25), to produce cleaner slopes.</p><p class="javadoc">Parameters:</p><table class="table table-bordered params"><tr><th width="25%"><code>scale</code></th><td><p>the scale to multiply height values by.</p></td></tr></table></div></div><div class="field "><a name="setMagnificationFilter"></a><h3><p><code><a href="#setMagnificationFilter"><span class="identifier">setMagnificationFilter</span></a> (<span style="white-space:nowrap">filter:<span class="type">Float</span></span>):<span class="type">Void</span></code></p></h3><div class="doc"><p><code>setFilter</code> sets the erosion value for the filter. This
value must be between 0 and 1, where 0.2 - 0.4 produces arguably the best
results.</p><p class="javadoc">Parameters:</p><table class="table table-bordered params"><tr><th width="25%"><code>filter</code></th><td><p>the erosion value.</p></td></tr></table><p class="javadoc">Throws:</p><table class="table table-bordered params"><div class="indent inline-content"><tr><th width="25%"><code>Exception</code></th><td><p>if filter is less than 0 or greater than 1.</p></td></tr></div></table></div></div><div class="field "><a name="setSize"></a><h3><p><code><a href="#setSize"><span class="identifier">setSize</span></a> (<span style="white-space:nowrap">size:<span class="type">Int</span></span>):<span class="type">Void</span></code></p></h3><div class="doc"><p><code>setSize</code> sets the size of the terrain where the area is
size x size.</p><p class="javadoc">Parameters:</p><table class="table table-bordered params"><tr><th width="25%"><code>size</code></th><td><p>the new size of the terrain.</p></td></tr></table></div></div><div class="field "><a name="smooth"></a><h3><p><code><a href="#smooth"><span class="identifier">smooth</span></a> (<span style="white-space:nowrap">np:<span class="type">Float</span></span>):<span class="type">Void</span></code></p></h3><div class="doc"><p>Smooth the terrain. For each node, its 8 neighbors heights
are averaged and will participate in the  node new height
by a factor <code>np</code> between 0 and 1</p>
<p>You must first load() the heightmap data before this will have any effect.</p><p class="javadoc">Parameters:</p><table class="table table-bordered params"><tr><th width="25%"><code>np</code></th><td><p>The factor to what extend the neighbors average has an influence.
Value of 0 will ignore neighbors (no smoothing)
Value of 1 will ignore the node old height.</p></td></tr></table></div></div><div class="field "><a name="smoothWithRadius"></a><h3><p><code><a href="#smoothWithRadius"><span class="identifier">smoothWithRadius</span></a> (<span style="white-space:nowrap">np:<span class="type">Float</span>,</span> <span style="white-space:nowrap">radius:<span class="type">Int</span></span>):<span class="type">Void</span></code></p></h3><div class="doc"><p>Smooth the terrain. For each node, its X(determined by radius) neighbors heights
are averaged and will participate in the  node new height
by a factor <code>np</code> between 0 and 1</p>
<p>You must first load() the heightmap data before this will have any effect.</p><p class="javadoc">Parameters:</p><table class="table table-bordered params"><tr><th width="25%"><code>np</code></th><td><p>The factor to what extend the neighbors average has an influence.
Value of 0 will ignore neighbors (no smoothing)
Value of 1 will ignore the node old height.</p></td></tr></table></div></div><div class="field "><a name="unloadHeightMap"></a><h3><p><code><a href="#unloadHeightMap"><span class="identifier">unloadHeightMap</span></a> ():<span class="type">Void</span></code></p></h3><div class="doc"><p><code>unloadHeightMap</code> clears the data of the height map. This
insures it is ready for reloading.</p></div></div></div></div></div></div></div></div></div><footer class="section dark site-footer"><div class="container"><div class="copyright"><p>&copy; 2016 &nbsp;<a href="http://www.angle3d.org" title="Angle3D Website" class="hf-link">Angle3D</a></p></div></div></footer><script src="../../../..//highlighter.js"></script><link href="../../../../highlighter.css" rel="stylesheet"/></body></html>