<!DOCTYPE html>
<html lang="en"><head><meta charset="utf-8"/><link href="../../../bootstrap-combined.min.css" rel="stylesheet" /><script type="text/javascript" src="../../../jquery-1.9.1.min.js"></script><script type="text/javascript" src="../../../bootstrap.min.js"></script><link href="../../../styles.css" rel="stylesheet" /><link rel="icon" href="../../../favicon.ico" type="image/x-icon"></link><script type="text/javascript" src="../../../nav.js"></script><script type="text/javascript" src="../../../index.js"></script><script type="text/javascript">var dox = {rootPath: "../../../",platforms: ["documentation"]};</script><title>ShadowUtil - Angle3D</title></head><body><div class="navbar navbar-inverse navbar-fixed-top"><div class="navbar-inner"><form class="navbar-search pull-left" id="searchForm"><input id="search" type="text" class="search-query" placeholder="Filter" autocomplete="off"/></form><ul class="nav"><li id="select-platform" class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown">Platform<b class="caret"></b></a><ul class="dropdown-menu"><li data="all"><a href="#">All Platforms</a></li><li data="documentation"><a href="#">documentation</a></li></ul></li></ul></div></div><div id="container"><div id="nav"></div><div id="content"><div class="header"><h1><code><span class="directive">class </span><span class="type">org.angle3d.shadow.ShadowUtil</span></code></h1></div><div class="body"><p class="availability">Available on all platforms</p><div class="doc"><p>Includes various useful shadow mapping functions.</p>
<p>@see http://appsrv.cse.cuhk.edu.hk/~fzhang/pssm<em>vrcia/
@see http://http.developer.nvidia.com/GPUGems3/gpugems3</em>ch10.html
for more info.</p></div><h2>Class Fields</h2><div class="platform platform-documentation"><a name="computeBoundForPoints"></a><h3><p><code><span class="keyword">static </span><span class="keyword">function</span> <a href="#computeBoundForPoints"><span class="identifier">computeBoundForPoints</span></a>(pts:<span class="type">Vector</span>&lt;<a class="type" href="../../../org/angle3d/math/Vector3f.html">Vector3f</a>&gt;, transform:<a class="type" href="../../../org/angle3d/math/Transform.html">Transform</a>):<a class="type" href="../../../org/angle3d/bounding/BoundingBox.html">BoundingBox</a></code></p></h3><div class="doc"><p>Compute bounds from an array of points</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>pts</td><td></td></tr><tr><td>null</td><td><p>transform</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="computeBoundForPoints2"></a><h3><p><code><span class="keyword">static </span><span class="keyword">function</span> <a href="#computeBoundForPoints2"><span class="identifier">computeBoundForPoints2</span></a>(pts:<span class="type">Vector</span>&lt;<a class="type" href="../../../org/angle3d/math/Vector3f.html">Vector3f</a>&gt;, mat:<a class="type" href="../../../org/angle3d/math/Matrix4f.html">Matrix4f</a>, ?result:<a class="type" href="../../../org/angle3d/bounding/BoundingBox.html">BoundingBox</a>):<a class="type" href="../../../org/angle3d/bounding/BoundingBox.html">BoundingBox</a></code></p></h3><div class="doc"><p></p></div></div><div class="platform platform-documentation"><a name="computeUnionBound"></a><h3><p><code><span class="keyword">static </span><span class="keyword">function</span> <a href="#computeUnionBound"><span class="identifier">computeUnionBound</span></a>(list:<a class="type" href="../../../org/angle3d/renderer/queue/GeometryList.html">GeometryList</a>, transform:<a class="type" href="../../../org/angle3d/math/Transform.html">Transform</a>):<a class="type" href="../../../org/angle3d/bounding/BoundingBox.html">BoundingBox</a></code></p></h3><div class="doc"><p>Compute bounds of a geomList</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>list</td><td></td></tr><tr><td>null</td><td><p>transform</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="computeUnionBoundForList"></a><h3><p><code><span class="keyword">static </span><span class="keyword">function</span> <a href="#computeUnionBoundForList"><span class="identifier">computeUnionBoundForList</span></a>(list:<span class="type">Vector</span>&lt;<a class="type" href="../../../org/angle3d/bounding/BoundingVolume.html">BoundingVolume</a>&gt;):<a class="type" href="../../../org/angle3d/bounding/BoundingBox.html">BoundingBox</a></code></p></h3><div class="doc"><p>Computes the bounds of multiple bounding volumes</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>null</td><td><p>bv</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="computeUnionBoundForMatrix4"></a><h3><p><code><span class="keyword">static </span><span class="keyword">function</span> <a href="#computeUnionBoundForMatrix4"><span class="identifier">computeUnionBoundForMatrix4</span></a>(list:<a class="type" href="../../../org/angle3d/renderer/queue/GeometryList.html">GeometryList</a>, mat:<a class="type" href="../../../org/angle3d/math/Matrix4f.html">Matrix4f</a>):<a class="type" href="../../../org/angle3d/bounding/BoundingBox.html">BoundingBox</a></code></p></h3><div class="doc"><p>Compute bounds of a geomList</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>list</td><td></td></tr><tr><td>null</td><td><p>mat</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="getGeometriesInCamFrustum"></a><h3><p><code><span class="keyword">static </span><span class="keyword">function</span> <a href="#getGeometriesInCamFrustum"><span class="identifier">getGeometriesInCamFrustum</span></a>(inputGeometryList:<a class="type" href="../../../org/angle3d/renderer/queue/GeometryList.html">GeometryList</a>, camera:<a class="type" href="../../../org/angle3d/renderer/Camera.html">Camera</a>, outputGeometryList:<a class="type" href="../../../org/angle3d/renderer/queue/GeometryList.html">GeometryList</a>):<span class="type">Void</span></code></p></h3><div class="doc"><p>Populates the outputGeometryList with the geometry of the
inputGeomtryList that are in the frustum of the given camera</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>inputGeometryList</td><td><p>The list containing all geometry to check
against the camera frustum</p></td></tr><tr><td>camera</td><td><p>the camera to check geometries against</p></td></tr><tr><td>outputGeometryList</td><td><p>the list of all geometries that are in the
camera frustum</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="getGeometriesInCamFrustumFromScene"></a><h3><p><code><span class="keyword">static </span><span class="keyword">function</span> <a href="#getGeometriesInCamFrustumFromScene"><span class="identifier">getGeometriesInCamFrustumFromScene</span></a>(rootScene:<a class="type" href="../../../org/angle3d/scene/Spatial.html">Spatial</a>, camera:<a class="type" href="../../../org/angle3d/renderer/Camera.html">Camera</a>, mode:<a class="type" href="../../../org/angle3d/renderer/queue/ShadowMode.html">ShadowMode</a>, outputGeometryList:<a class="type" href="../../../org/angle3d/renderer/queue/GeometryList.html">GeometryList</a>):<span class="type">Void</span></code></p></h3><div class="doc"><p>Populates the outputGeometryList with the rootScene children geometries
that are in the frustum of the given camera</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>rootScene</td><td><p>the rootNode of the scene to traverse</p></td></tr><tr><td>camera</td><td><p>the camera to check geometries against</p></td></tr><tr><td>outputGeometryList</td><td><p>the list of all geometries that are in the
camera frustum</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="getGeometriesInLightRadius"></a><h3><p><code><span class="keyword">static </span><span class="keyword">function</span> <a href="#getGeometriesInLightRadius"><span class="identifier">getGeometriesInLightRadius</span></a>(inputGeometryList:<a class="type" href="../../../org/angle3d/renderer/queue/GeometryList.html">GeometryList</a>, cameras:<span class="type">Vector</span>&lt;<a class="type" href="../../../org/angle3d/renderer/Camera.html">Camera</a>&gt;, outputGeometryList:<a class="type" href="../../../org/angle3d/renderer/queue/GeometryList.html">GeometryList</a>):<span class="type">Void</span></code></p></h3><div class="doc"><p>Populates the outputGeometryList with the geometry of the
inputGeomtryList that are in the radius of a light.
The array of camera must be an array of 6 cameras initialized so they represent the light viewspace of a pointlight</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>inputGeometryList</td><td><p>The list containing all geometry to check
against the camera frustum</p></td></tr><tr><td>cameras</td><td><p>the camera array to check geometries against</p></td></tr><tr><td>outputGeometryList</td><td><p>the list of all geometries that are in the
camera frustum</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="getLitGeometriesInViewPort"></a><h3><p><code><span class="keyword">static </span><span class="keyword">function</span> <a href="#getLitGeometriesInViewPort"><span class="identifier">getLitGeometriesInViewPort</span></a>(rootScene:<a class="type" href="../../../org/angle3d/scene/Spatial.html">Spatial</a>, vpCamera:<a class="type" href="../../../org/angle3d/renderer/Camera.html">Camera</a>, cameras:<span class="type">Vector</span>&lt;<a class="type" href="../../../org/angle3d/renderer/Camera.html">Camera</a>&gt;, mode:<a class="type" href="../../../org/angle3d/renderer/queue/ShadowMode.html">ShadowMode</a>, outputGeometryList:<a class="type" href="../../../org/angle3d/renderer/queue/GeometryList.html">GeometryList</a>):<span class="type">Void</span></code></p></h3><div class="doc"><p>Populates the outputGeometryList with the geometries of the children 
of OccludersExtractor.rootScene node that are both in the frustum of the given vpCamera and some camera inside cameras array.
The array of cameras must be initialized to represent the light viewspace of some light like pointLight or spotLight</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>camera</td><td><p>the viewPort camera </p></td></tr><tr><td>cameras</td><td><p>the camera array to check geometries against, representing the light viewspace</p></td></tr><tr><td>outputGeometryList</td><td><p>the output list of all geometries that are in the camera frustum</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="updateFrustumPoints"></a><h3><p><code><span class="keyword">static </span><span class="keyword">function</span> <a href="#updateFrustumPoints"><span class="identifier">updateFrustumPoints</span></a>(viewCam:<a class="type" href="../../../org/angle3d/renderer/Camera.html">Camera</a>, nearOverride:<span class="type">Float</span>, farOverride:<span class="type">Float</span>, scale:<span class="type">Float</span>, points:<span class="type">Vector</span>&lt;<a class="type" href="../../../org/angle3d/math/Vector3f.html">Vector3f</a>&gt;):<span class="type">Void</span></code></p></h3><div class="doc"><p>Updates the points array to contain the frustum corners of the given
camera. The nearOverride and farOverride variables can be used to
override the camera's near/far values with own values.</p>
<p>TODO: Reduce creation of new vectors</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>viewCam</td><td></td></tr><tr><td>nearOverride</td><td></td></tr><tr><td>null</td><td><p>farOverride</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="updateFrustumPoints2"></a><h3><p><code><span class="keyword">static </span><span class="keyword">function</span> <a href="#updateFrustumPoints2"><span class="identifier">updateFrustumPoints2</span></a>(viewCam:<a class="type" href="../../../org/angle3d/renderer/Camera.html">Camera</a>, points:<span class="type">Vector</span>&lt;<a class="type" href="../../../org/angle3d/math/Vector3f.html">Vector3f</a>&gt;):<span class="type">Void</span></code></p></h3><div class="doc"><p>Updates a points arrays with the frustum corners of the provided camera.</p><table class="table table-condensed"><tbody><col width="10%"/>  <col width="100%"/><tr><td>viewCam</td><td></td></tr><tr><td>null</td><td><p>points</p></td></tr></tbody></table></div></div><div class="platform platform-documentation"><a name="updateShadowCamera"></a><h3><p><code><span class="keyword">static </span><span class="keyword">function</span> <a href="#updateShadowCamera"><span class="identifier">updateShadowCamera</span></a>(shadowCam:<a class="type" href="../../../org/angle3d/renderer/Camera.html">Camera</a>, points:<span class="type">Vector</span>&lt;<a class="type" href="../../../org/angle3d/math/Vector3f.html">Vector3f</a>&gt;):<span class="type">Void</span></code></p></h3><div class="doc"><p></p></div></div><div class="platform platform-documentation"><a name="updateShadowCameraFromViewPort"></a><h3><p><code><span class="keyword">static </span><span class="keyword">function</span> <a href="#updateShadowCameraFromViewPort"><span class="identifier">updateShadowCameraFromViewPort</span></a>(viewPort:<a class="type" href="../../../org/angle3d/renderer/ViewPort.html">ViewPort</a>, receivers:<a class="type" href="../../../org/angle3d/renderer/queue/GeometryList.html">GeometryList</a>, shadowCam:<a class="type" href="../../../org/angle3d/renderer/Camera.html">Camera</a>, points:<span class="type">Vector</span>&lt;<a class="type" href="../../../org/angle3d/math/Vector3f.html">Vector3f</a>&gt;, splitOccluders:<a class="type" href="../../../org/angle3d/renderer/queue/GeometryList.html">GeometryList</a>, shadowMapSize:<span class="type">Float</span>):<span class="type">Void</span></code></p></h3><div class="doc"><p></p></div></div></div></div></div></body></html>